{"ast":null,"code":"import _classCallCheck from\"C:\\\\Prayuj Folders\\\\Game-Renting-Service\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Prayuj Folders\\\\Game-Renting-Service\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _assertThisInitialized from\"C:\\\\Prayuj Folders\\\\Game-Renting-Service\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:\\\\Prayuj Folders\\\\Game-Renting-Service\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Prayuj Folders\\\\Game-Renting-Service\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import axios from\"axios\";import GameForm from\"./gameForm\";import{Redirect}from\"react-router-dom\";var UpdateGame=/*#__PURE__*/function(_Component){_inherits(UpdateGame,_Component);var _super=_createSuper(UpdateGame);function UpdateGame(props){var _this;_classCallCheck(this,UpdateGame);_this=_super.call(this,props);_this.setRedirect=function(){console.log(\"Test\");_this.setState({redirect:true});};_this.renderRedirect=function(){if(_this.state.redirect){return/*#__PURE__*/React.createElement(Redirect,{push:true,to:\"/game/\"+_this.state.id});}};_this.state={id:props.match.params.id,name:\"\",description:\"\",items:[{console:\"\",id:1,serial:\"\",mrp:\"\"}]};_this.onSubmit=_this.onSubmit.bind(_assertThisInitialized(_this));return _this;}_createClass(UpdateGame,[{key:\"componentDidMount\",value:function componentDidMount(){this.getGame();}},{key:\"onSubmit\",value:function onSubmit(e,count,items,old_items){var _this2=this;console.log(e.target,count,items,old_items);var temp_items=[];for(var i=0;i<count;i++){if(items[i].new===true){console.log(\"We are in new block\");var index=4*i+2+old_items.length*4;var serial=e.target[index].value;var consol=e.target[index+1].value;var mrp=e.target[index+2].value;console.log(i);temp_items.push({console:consol,serial_no:serial,status:\"Available\",responsible:\"Owner\",mrp:mrp,description:\"Test\"});}else{console.log(\"We are in old block\");temp_items.push(items[i]);}}for(var _i=0;_i<old_items.length;_i++){temp_items.push(old_items[_i]);}console.log(temp_items);var newGame={_id:this.state.id,name:e.target.name.value,description:e.target.description.value,items:temp_items};axios.post(\"https://prayuj-gamerent.herokuapp.com/game/update/\"+this.state.id,newGame).then(function(res){console.log(res.data);_this2.setRedirect();}).catch(function(err){return console.log(err);});}},{key:\"getGame\",value:function getGame(){var _this3=this;axios.get(\"https://prayuj-gamerent.herokuapp.com/game/\"+this.state.id).then(function(res){console.log(res.data);_this3.setState({name:res.data.name,description:res.data.description,items:res.data.items,count:res.data.items.length});}).catch(function(err){console.log(err);});}},{key:\"render\",value:function render(){console.log(this.state);return/*#__PURE__*/React.createElement(\"div\",{style:{marginTop:10}},this.renderRedirect(),/*#__PURE__*/React.createElement(\"h3\",null,\"Update Game\"),/*#__PURE__*/React.createElement(GameForm,{handleForm:this.onSubmit,mode:\"update\",name:this.state.name,description:this.state.description,items:this.state.items,count:this.state.count}));}//   name: nextProps.name,\n//         description: nextProps.description,\n//         items: nextProps.items,\n//         count: nextProps.count\n}]);return UpdateGame;}(Component);export default UpdateGame;","map":{"version":3,"sources":["C:/Prayuj Folders/Game-Renting-Service/frontend/src/components/updateGame.js"],"names":["React","Component","axios","GameForm","Redirect","UpdateGame","props","setRedirect","console","log","setState","redirect","renderRedirect","state","id","match","params","name","description","items","serial","mrp","onSubmit","bind","getGame","e","count","old_items","target","temp_items","i","new","index","length","value","consol","push","serial_no","status","responsible","newGame","_id","post","then","res","data","catch","err","get","marginTop"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\nimport GameForm from \"./gameForm\";\r\n\r\nimport { Redirect } from \"react-router-dom\";\r\nclass UpdateGame extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      id: props.match.params.id,\r\n      name: \"\",\r\n      description: \"\",\r\n      items: [\r\n        {\r\n          console: \"\",\r\n          id: 1,\r\n          serial: \"\",\r\n          mrp: \"\",\r\n        },\r\n      ],\r\n    };\r\n    this.onSubmit = this.onSubmit.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.getGame();\r\n  }\r\n\r\n  onSubmit(e, count, items, old_items) {\r\n    console.log(e.target, count, items, old_items);\r\n    let temp_items = [];\r\n    for (let i = 0; i < count; i++) {\r\n      if (items[i].new === true) {\r\n        console.log(\"We are in new block\");\r\n        let index = 4 * i + 2 + old_items.length * 4;\r\n        let serial = e.target[index].value;\r\n        let consol = e.target[index + 1].value;\r\n        let mrp = e.target[index + 2].value;\r\n        console.log(i);\r\n        temp_items.push({\r\n          console: consol,\r\n          serial_no: serial,\r\n          status: \"Available\",\r\n          responsible: \"Owner\",\r\n          mrp: mrp,\r\n          description: \"Test\",\r\n        });\r\n      } else {\r\n        console.log(\"We are in old block\");\r\n        temp_items.push(items[i]);\r\n      }\r\n    }\r\n\r\n    for (let i = 0; i < old_items.length; i++) {\r\n      temp_items.push(old_items[i]);\r\n    }\r\n    console.log(temp_items);\r\n\r\n    const newGame = {\r\n      _id: this.state.id,\r\n      name: e.target.name.value,\r\n      description: e.target.description.value,\r\n      items: temp_items,\r\n    };\r\n\r\n    axios\r\n      .post(\r\n        \"https://prayuj-gamerent.herokuapp.com/game/update/\" + this.state.id,\r\n        newGame\r\n      )\r\n      .then((res) => {\r\n        console.log(res.data);\r\n        this.setRedirect();\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n\r\n  getGame() {\r\n    axios\r\n      .get(\"https://prayuj-gamerent.herokuapp.com/game/\" + this.state.id)\r\n      .then((res) => {\r\n        console.log(res.data);\r\n        this.setState({\r\n          name: res.data.name,\r\n          description: res.data.description,\r\n          items: res.data.items,\r\n          count: res.data.items.length,\r\n        });\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }\r\n\r\n  setRedirect = () => {\r\n    console.log(\"Test\");\r\n    this.setState({\r\n      redirect: true,\r\n    });\r\n  };\r\n\r\n  renderRedirect = () => {\r\n    if (this.state.redirect) {\r\n      return <Redirect push to={\"/game/\" + this.state.id} />;\r\n    }\r\n  };\r\n\r\n  render() {\r\n    console.log(this.state);\r\n    return (\r\n      <div style={{ marginTop: 10 }}>\r\n        {this.renderRedirect()}\r\n        <h3>Update Game</h3>\r\n        <GameForm\r\n          handleForm={this.onSubmit}\r\n          mode=\"update\"\r\n          name={this.state.name}\r\n          description={this.state.description}\r\n          items={this.state.items}\r\n          count={this.state.count}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  //   name: nextProps.name,\r\n  //         description: nextProps.description,\r\n  //         items: nextProps.items,\r\n  //         count: nextProps.count\r\n}\r\n\r\nexport default UpdateGame;\r\n"]},"metadata":{},"sourceType":"module"}