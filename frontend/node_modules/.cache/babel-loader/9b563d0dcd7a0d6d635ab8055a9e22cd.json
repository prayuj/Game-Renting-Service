{"ast":null,"code":"import _defineProperty from\"C:\\\\Prayuj Folders\\\\Game-Renting-Service\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _classCallCheck from\"C:\\\\Prayuj Folders\\\\Game-Renting-Service\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Prayuj Folders\\\\Game-Renting-Service\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _assertThisInitialized from\"C:\\\\Prayuj Folders\\\\Game-Renting-Service\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:\\\\Prayuj Folders\\\\Game-Renting-Service\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Prayuj Folders\\\\Game-Renting-Service\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";var GameForm=/*#__PURE__*/function(_Component){_inherits(GameForm,_Component);var _super=_createSuper(GameForm);function GameForm(props){var _this;_classCallCheck(this,GameForm);_this=_super.call(this,props);_this.state={name:\"\",description:\"\",items:[{console:\"Choose a console\",_id:0,serial_no:\"\",mrp:\"\",description:\"\",status:\"Available\"}],old_items:[],id_count:0,count:1};_this.onAdd=_this.onAdd.bind(_assertThisInitialized(_this));_this.onDelete=_this.onDelete.bind(_assertThisInitialized(_this));_this.handleForm=_this.handleForm.bind(_assertThisInitialized(_this));_this.onChangeOfAvailableButton=_this.onChangeOfAvailableButton.bind(_assertThisInitialized(_this));_this.nameChange=_this.nameChange.bind(_assertThisInitialized(_this));_this.descriptionChange=_this.descriptionChange.bind(_assertThisInitialized(_this));_this.itemsChange=_this.itemsChange.bind(_assertThisInitialized(_this));return _this;}_createClass(GameForm,[{key:\"componentWillReceiveProps\",value:function componentWillReceiveProps(nextProps){if(nextProps.mode===\"update\")this.setState(_defineProperty({name:nextProps.name,description:nextProps.description,old_items:nextProps.items,count:nextProps.count,items:[]},\"count\",0));}},{key:\"onAdd\",value:function onAdd(){var items=this.state.items;items.push({_id:this.state.id_count+1,serial_no:\"\",console:\"\",mrp:\"\",new:true,status:\"Available\"});console.log(items);this.setState({items:items,id_count:this.state.id_count+1,count:this.state.count+1});}},{key:\"onChangeOfAvailableButton\",value:function onChangeOfAvailableButton(e){console.log(e.target);var temp_old_items=this.state.old_items;for(var i=0;i<temp_old_items.length;i++){if(temp_old_items[i]._id==e.target.id){temp_old_items[i].status=temp_old_items[i].status===\"Unavailable\"?\"Available\":\"Unavailable\";}}this.setState({old_items:temp_old_items});}},{key:\"onDelete\",value:function onDelete(e){console.log(e.target.id);var items=this.state.items;console.log(items);for(var i=0;i<items.length;i++){if(items[i]._id==e.target.id.toString()){console.log(\"Found\");items.splice(i,1);}}console.log(items);this.setState({items:items,count:this.state.count-1});}},{key:\"handleForm\",value:function handleForm(e){e.preventDefault();console.log(this.state.count);this.props.handleForm(e,this.state.count,this.state.items,this.state.old_items);}},{key:\"nameChange\",value:function nameChange(e){console.log(e.target.value);this.setState({name:e.target.value});}},{key:\"descriptionChange\",value:function descriptionChange(e){this.setState({description:e.target.value});}},{key:\"itemsChange\",value:function itemsChange(e){console.log(e.target.name,e.target.value,e.target.id);var items=this.state.items;for(var i=0;i<items.length;i++){var item=items[i];if(item._id===parseInt(e.target.id)){if(e.target.name===\"serial\"){item.serial_no=e.target.value;}else if(e.target.name===\"console\"){item.console=e.target.value;}else{item.mrp=e.target.value;}}}this.setState({items:items});}},{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/React.createElement(\"div\",{style:{marginTop:10}},/*#__PURE__*/React.createElement(\"form\",{onSubmit:this.handleForm},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",null,\"Name: \"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",className:\"form-control\",name:\"name\",value:this.state.name,required:true,onChange:this.nameChange})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",null,\"Description: \"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",className:\"form-control\",name:\"description\",value:this.state.description,required:true,onChange:this.descriptionChange})),this.state.old_items?this.state.old_items.map(function(game){return/*#__PURE__*/React.createElement(\"div\",{className:\"form-row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group col-md-6\"},/*#__PURE__*/React.createElement(\"input\",{id:game._id,type:\"text\",className:\"form-control\",placeholder:\"Serial No.\",name:\"serial\",disabled:true,value:game.serial_no})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group col-md-3\"},/*#__PURE__*/React.createElement(\"select\",{className:\"form-control\",id:game._id,name:\"console\",disabled:true},/*#__PURE__*/React.createElement(\"option\",null,\"Choose a console\"),/*#__PURE__*/React.createElement(\"option\",{selected:game.console===\"PS4\"},\"PS4\"),/*#__PURE__*/React.createElement(\"option\",{selected:game.console===\"XBOX One\"},\"XBOX One\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group col-md-1 \"},/*#__PURE__*/React.createElement(\"input\",{type:\"text\",className:\"form-control\",placeholder:\"Price\",name:\"price\",id:game._id,disabled:true,value:game.mrp})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"btn btn-danger\",onClick:_this2.onChangeOfAvailableButton,disabled:game.responsible===\"Owner\"?false:true,id:game._id},game.status===\"Available\"?\"Make Unavailable\":\"Make Available\")));}):/*#__PURE__*/React.createElement(\"div\",null),this.state.items.map(function(game){return/*#__PURE__*/React.createElement(\"div\",{className:\"form-row\",onChange:_this2.itemsChange},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group col-md-6\"},/*#__PURE__*/React.createElement(\"input\",{type:\"text\",id:game._id,className:\"form-control\",placeholder:\"Serial No.\",name:\"serial\",value:game.serial_no,required:true})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group col-md-3\"},/*#__PURE__*/React.createElement(\"select\",{className:\"form-control\",name:\"console\",id:game._id},/*#__PURE__*/React.createElement(\"option\",{selected:game.console===\"PS4\"},\"PS4\"),/*#__PURE__*/React.createElement(\"option\",{selected:game.console===\"XBOX One\"},\"XBOX One\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group col-md-1 \"},/*#__PURE__*/React.createElement(\"input\",{type:\"text\",id:game._id,className:\"form-control\",placeholder:\"Price\",name:\"price\",value:game.mrp,required:true})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"btn btn-danger\",onClick:_this2.onDelete,id:game._id},\"Delete\")));}),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"btn btn-primary\",onClick:this.onAdd},\"Add\")),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"input\",{type:\"submit\",value:this.props.mode===\"add\"?\"Add new Game\":\"Update Game\",className:\"btn btn-primary\"}))));}}]);return GameForm;}(Component);export default GameForm;","map":{"version":3,"sources":["C:/Prayuj Folders/Game-Renting-Service/frontend/src/components/gameForm.js"],"names":["React","Component","GameForm","props","state","name","description","items","console","_id","serial_no","mrp","status","old_items","id_count","count","onAdd","bind","onDelete","handleForm","onChangeOfAvailableButton","nameChange","descriptionChange","itemsChange","nextProps","mode","setState","push","new","log","e","target","temp_old_items","i","length","id","toString","splice","preventDefault","value","item","parseInt","marginTop","map","game","responsible"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\n\r\nclass GameForm extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      name: \"\",\r\n      description: \"\",\r\n      items: [\r\n        {\r\n          console: \"Choose a console\",\r\n          _id: 0,\r\n          serial_no: \"\",\r\n          mrp: \"\",\r\n          description: \"\",\r\n          status: \"Available\"\r\n        }\r\n      ],\r\n      old_items: [],\r\n      id_count: 0,\r\n      count: 1\r\n    };\r\n    this.onAdd = this.onAdd.bind(this);\r\n    this.onDelete = this.onDelete.bind(this);\r\n    this.handleForm = this.handleForm.bind(this);\r\n    this.onChangeOfAvailableButton = this.onChangeOfAvailableButton.bind(this);\r\n    this.nameChange = this.nameChange.bind(this);\r\n    this.descriptionChange = this.descriptionChange.bind(this);\r\n    this.itemsChange = this.itemsChange.bind(this);\r\n  }\r\n\r\n  componentWillReceiveProps(nextProps) {\r\n    if (nextProps.mode === \"update\")\r\n      this.setState({\r\n        name: nextProps.name,\r\n        description: nextProps.description,\r\n        old_items: nextProps.items,\r\n        count: nextProps.count,\r\n        items: [],\r\n        count: 0\r\n      });\r\n  }\r\n\r\n  onAdd() {\r\n    let items = this.state.items;\r\n    items.push({\r\n      _id: this.state.id_count + 1,\r\n      serial_no: \"\",\r\n      console: \"\",\r\n      mrp: \"\",\r\n      new: true,\r\n      status: \"Available\"\r\n    });\r\n    console.log(items);\r\n    this.setState({\r\n      items: items,\r\n      id_count: this.state.id_count + 1,\r\n      count: this.state.count + 1\r\n    });\r\n  }\r\n  onChangeOfAvailableButton(e) {\r\n    console.log(e.target);\r\n    let temp_old_items = this.state.old_items;\r\n    for (let i = 0; i < temp_old_items.length; i++) {\r\n      if (temp_old_items[i]._id == e.target.id) {\r\n        temp_old_items[i].status =\r\n          temp_old_items[i].status === \"Unavailable\"\r\n            ? \"Available\"\r\n            : \"Unavailable\";\r\n      }\r\n    }\r\n    this.setState({\r\n      old_items: temp_old_items\r\n    });\r\n  }\r\n  onDelete(e) {\r\n    console.log(e.target.id);\r\n    let items = this.state.items;\r\n    console.log(items);\r\n    for (let i = 0; i < items.length; i++) {\r\n      if (items[i]._id == e.target.id.toString()) {\r\n        console.log(\"Found\");\r\n        items.splice(i, 1);\r\n      }\r\n    }\r\n    console.log(items);\r\n    this.setState({\r\n      items: items,\r\n      count: this.state.count - 1\r\n    });\r\n  }\r\n  handleForm(e) {\r\n    e.preventDefault();\r\n    console.log(this.state.count);\r\n    this.props.handleForm(\r\n      e,\r\n      this.state.count,\r\n      this.state.items,\r\n      this.state.old_items\r\n    );\r\n  }\r\n\r\n  nameChange(e) {\r\n    console.log(e.target.value);\r\n    this.setState({\r\n      name: e.target.value\r\n    });\r\n  }\r\n\r\n  descriptionChange(e) {\r\n    this.setState({\r\n      description: e.target.value\r\n    });\r\n  }\r\n\r\n  itemsChange(e) {\r\n    console.log(e.target.name, e.target.value, e.target.id);\r\n    let items = this.state.items;\r\n    for (let i = 0; i < items.length; i++) {\r\n      let item = items[i];\r\n      if (item._id === parseInt(e.target.id)) {\r\n        if (e.target.name === \"serial\") {\r\n          item.serial_no = e.target.value;\r\n        } else if (e.target.name === \"console\") {\r\n          item.console = e.target.value;\r\n        } else {\r\n          item.mrp = e.target.value;\r\n        }\r\n      }\r\n    }\r\n    this.setState({\r\n      items: items\r\n    });\r\n  }\r\n  render() {\r\n    return (\r\n      <div style={{ marginTop: 10 }}>\r\n        <form onSubmit={this.handleForm}>\r\n          <div className=\"form-group\">\r\n            <label>Name: </label>\r\n            <input\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              name=\"name\"\r\n              value={this.state.name}\r\n              required\r\n              onChange={this.nameChange}\r\n            />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label>Description: </label>\r\n            <input\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              name=\"description\"\r\n              value={this.state.description}\r\n              required\r\n              onChange={this.descriptionChange}\r\n            />\r\n          </div>\r\n          {this.state.old_items ? (\r\n            this.state.old_items.map(game => (\r\n              <div className=\"form-row\">\r\n                <div className=\"form-group col-md-6\">\r\n                  <input\r\n                    id={game._id}\r\n                    type=\"text\"\r\n                    className=\"form-control\"\r\n                    placeholder=\"Serial No.\"\r\n                    name=\"serial\"\r\n                    disabled={true}\r\n                    value={game.serial_no}\r\n                  />\r\n                </div>\r\n                <div className=\"form-group col-md-3\">\r\n                  <select\r\n                    className=\"form-control\"\r\n                    id={game._id}\r\n                    name=\"console\"\r\n                    disabled={true}\r\n                  >\r\n                    <option>Choose a console</option>\r\n                    <option selected={game.console === \"PS4\"}>PS4</option>\r\n                    <option selected={game.console === \"XBOX One\"}>\r\n                      XBOX One\r\n                    </option>\r\n                  </select>\r\n                </div>\r\n                <div className=\"form-group col-md-1 \">\r\n                  <input\r\n                    type=\"text\"\r\n                    className=\"form-control\"\r\n                    placeholder=\"Price\"\r\n                    name=\"price\"\r\n                    id={game._id}\r\n                    disabled={true}\r\n                    value={game.mrp}\r\n                  />\r\n                </div>\r\n                <div className=\"form-group\">\r\n                  <button\r\n                    type=\"button\"\r\n                    className=\"btn btn-danger\"\r\n                    onClick={this.onChangeOfAvailableButton}\r\n                    disabled={game.responsible === \"Owner\" ? false : true}\r\n                    id={game._id}\r\n                  >\r\n                    {game.status === \"Available\"\r\n                      ? \"Make Unavailable\"\r\n                      : \"Make Available\"}\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            ))\r\n          ) : (\r\n            <div />\r\n          )}\r\n          {this.state.items.map(game => (\r\n            <div className=\"form-row\" onChange={this.itemsChange}>\r\n              <div className=\"form-group col-md-6\">\r\n                <input\r\n                  type=\"text\"\r\n                  id={game._id}\r\n                  className=\"form-control\"\r\n                  placeholder=\"Serial No.\"\r\n                  name=\"serial\"\r\n                  value={game.serial_no}\r\n                  required\r\n                />\r\n              </div>\r\n              <div className=\"form-group col-md-3\">\r\n                <select className=\"form-control\" name=\"console\" id={game._id}>\r\n                  <option selected={game.console === \"PS4\"}>PS4</option>\r\n                  <option selected={game.console === \"XBOX One\"}>\r\n                    XBOX One\r\n                  </option>\r\n                </select>\r\n              </div>\r\n              <div className=\"form-group col-md-1 \">\r\n                <input\r\n                  type=\"text\"\r\n                  id={game._id}\r\n                  className=\"form-control\"\r\n                  placeholder=\"Price\"\r\n                  name=\"price\"\r\n                  value={game.mrp}\r\n                  required\r\n                />\r\n              </div>\r\n              <div className=\"form-group\">\r\n                <button\r\n                  type=\"button\"\r\n                  className=\"btn btn-danger\"\r\n                  onClick={this.onDelete}\r\n                  id={game._id}\r\n                >\r\n                  Delete\r\n                </button>\r\n              </div>\r\n            </div>\r\n          ))}\r\n\r\n          <div className=\"form-group\">\r\n            <button\r\n              type=\"button\"\r\n              className=\"btn btn-primary\"\r\n              onClick={this.onAdd}\r\n            >\r\n              Add\r\n            </button>\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <input\r\n              type=\"submit\"\r\n              value={this.props.mode === \"add\" ? \"Add new Game\" : \"Update Game\"}\r\n              className=\"btn btn-primary\"\r\n            />\r\n          </div>\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default GameForm;\r\n"]},"metadata":{},"sourceType":"module"}