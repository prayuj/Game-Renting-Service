{"ast":null,"code":"import _defineProperty from\"C:\\\\Prayuj Folders\\\\Game-Renting-Service\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _classCallCheck from\"C:\\\\Prayuj Folders\\\\Game-Renting-Service\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Prayuj Folders\\\\Game-Renting-Service\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _assertThisInitialized from\"C:\\\\Prayuj Folders\\\\Game-Renting-Service\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:\\\\Prayuj Folders\\\\Game-Renting-Service\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Prayuj Folders\\\\Game-Renting-Service\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import GameForm from\"./gameForm\";import axios from\"axios\";import{Redirect}from\"react-router-dom\";var AddGame=/*#__PURE__*/function(_Component){_inherits(AddGame,_Component);var _super=_createSuper(AddGame);function AddGame(props){var _this;_classCallCheck(this,AddGame);_this=_super.call(this,props);_this.renderRedirect=function(){if(_this.state.redirect_to_dashboard){return/*#__PURE__*/React.createElement(Redirect,{push:true,to:\"/\"});}};_this.state={redirect_to_dashboard:false,game_name:\"\",game_description:\"\",game_properties:[{console:\"\",id:1,serial:\"\",mrp:\"\"}],count:1};_this.onAdd=_this.onAdd.bind(_assertThisInitialized(_this));_this.onDelete=_this.onDelete.bind(_assertThisInitialized(_this));_this.onSubmit=_this.onSubmit.bind(_assertThisInitialized(_this));return _this;}_createClass(AddGame,[{key:\"onAdd\",value:function onAdd(){var temp_game_properties=this.state.game_properties;temp_game_properties.push({id:this.state.count+1,serial:\"\",console:\"\",mrp:\"\"});console.log(temp_game_properties);this.setState({game_properties:temp_game_properties,count:this.state.count+1});}},{key:\"onDelete\",value:function onDelete(e){console.log(e.target.id);var temp_game_properties=this.state.game_properties;console.log(temp_game_properties);for(var i=0;i<temp_game_properties.length;i++){console.log(temp_game_properties[i].id.toString()==e.target.id);if(temp_game_properties[i].id==e.target.id.toString()){console.log(\"Found\");temp_game_properties.splice(i,1);}}console.log(temp_game_properties);this.setState({game_properties:temp_game_properties});}},{key:\"onSubmit\",value:function onSubmit(e,count,items){var _this2=this,_ref;console.log(e.target,count);console.log(\"Form submitted:\");console.log(\"Game Name: \".concat(e.target.name.value));console.log(\"Game Description: \".concat(e.target.description.value));console.log(\"Game Properties\");items=[];for(var i=0;i<count;i++){console.log(\"hello\");var index=4*i+2;var serial=e.target[index].value;var consol=e.target[index+1].value;var mrp=e.target[index+2].value;items.push({console:consol,serial_no:serial,status:\"Available\",responsible:\"Owner\",mrp:mrp,description:\"Test\"});console.log(items[i]);}var newGame={name:e.target.name.value,description:e.target.description.value,items:items};axios.post(\"https://prayuj-gamerent.herokuapp.com/game/add\",newGame).then(function(res){console.log(res.data);_this2.setState({redirect_to_dashboard:true});}).catch(function(err){return console.log(err);});this.setState({game_name:\"\",game_description:\"\",game_properties:[(_ref={console:\"\",id:1,serial:\"\"},_defineProperty(_ref,\"console\",\"\"),_defineProperty(_ref,\"mrp\",\"\"),_ref)],count:1});}},{key:\"render\",value:function render(){var status=this.state.status;return/*#__PURE__*/React.createElement(\"div\",{style:{marginTop:10}},this.renderRedirect(),/*#__PURE__*/React.createElement(\"h3\",null,\"Add New Game\"),/*#__PURE__*/React.createElement(GameForm,{handleForm:this.onSubmit,mode:\"add\"}));}}]);return AddGame;}(Component);export default AddGame;","map":{"version":3,"sources":["C:/Prayuj Folders/Game-Renting-Service/frontend/src/components/addGame.js"],"names":["React","Component","GameForm","axios","Redirect","AddGame","props","renderRedirect","state","redirect_to_dashboard","game_name","game_description","game_properties","console","id","serial","mrp","count","onAdd","bind","onDelete","onSubmit","temp_game_properties","push","log","setState","e","target","i","length","toString","splice","items","name","value","description","index","consol","serial_no","status","responsible","newGame","post","then","res","data","catch","err","marginTop"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport GameForm from \"./gameForm\";\r\nimport axios from \"axios\";\r\nimport { Redirect } from \"react-router-dom\";\r\n\r\nclass AddGame extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      redirect_to_dashboard: false,\r\n      game_name: \"\",\r\n      game_description: \"\",\r\n      game_properties: [\r\n        {\r\n          console: \"\",\r\n          id: 1,\r\n          serial: \"\",\r\n          mrp: \"\",\r\n        },\r\n      ],\r\n      count: 1,\r\n    };\r\n    this.onAdd = this.onAdd.bind(this);\r\n    this.onDelete = this.onDelete.bind(this);\r\n    this.onSubmit = this.onSubmit.bind(this);\r\n  }\r\n\r\n  onAdd() {\r\n    let temp_game_properties = this.state.game_properties;\r\n    temp_game_properties.push({\r\n      id: this.state.count + 1,\r\n      serial: \"\",\r\n      console: \"\",\r\n      mrp: \"\",\r\n    });\r\n    console.log(temp_game_properties);\r\n    this.setState({\r\n      game_properties: temp_game_properties,\r\n      count: this.state.count + 1,\r\n    });\r\n  }\r\n\r\n  onDelete(e) {\r\n    console.log(e.target.id);\r\n    let temp_game_properties = this.state.game_properties;\r\n    console.log(temp_game_properties);\r\n    for (let i = 0; i < temp_game_properties.length; i++) {\r\n      console.log(temp_game_properties[i].id.toString() == e.target.id);\r\n      if (temp_game_properties[i].id == e.target.id.toString()) {\r\n        console.log(\"Found\");\r\n        temp_game_properties.splice(i, 1);\r\n      }\r\n    }\r\n    console.log(temp_game_properties);\r\n    this.setState({\r\n      game_properties: temp_game_properties,\r\n    });\r\n  }\r\n\r\n  onSubmit(e, count, items) {\r\n    console.log(e.target, count);\r\n    console.log(`Form submitted:`);\r\n    console.log(`Game Name: ${e.target.name.value}`);\r\n    console.log(`Game Description: ${e.target.description.value}`);\r\n    console.log(\"Game Properties\");\r\n    items = [];\r\n    for (let i = 0; i < count; i++) {\r\n      console.log(\"hello\");\r\n      let index = 4 * i + 2;\r\n      let serial = e.target[index].value;\r\n      let consol = e.target[index + 1].value;\r\n      let mrp = e.target[index + 2].value;\r\n      items.push({\r\n        console: consol,\r\n        serial_no: serial,\r\n        status: \"Available\",\r\n        responsible: \"Owner\",\r\n        mrp: mrp,\r\n        description: \"Test\",\r\n      });\r\n\r\n      console.log(items[i]);\r\n    }\r\n\r\n    const newGame = {\r\n      name: e.target.name.value,\r\n      description: e.target.description.value,\r\n      items: items,\r\n    };\r\n\r\n    axios\r\n      .post(\"https://prayuj-gamerent.herokuapp.com/game/add\", newGame)\r\n      .then((res) => {\r\n        console.log(res.data);\r\n        this.setState({\r\n          redirect_to_dashboard: true,\r\n        });\r\n      })\r\n      .catch((err) => console.log(err));\r\n\r\n    this.setState({\r\n      game_name: \"\",\r\n      game_description: \"\",\r\n      game_properties: [\r\n        {\r\n          console: \"\",\r\n          id: 1,\r\n          serial: \"\",\r\n          console: \"\",\r\n          mrp: \"\",\r\n        },\r\n      ],\r\n      count: 1,\r\n    });\r\n  }\r\n\r\n  renderRedirect = () => {\r\n    if (this.state.redirect_to_dashboard) {\r\n      return <Redirect push to=\"/\" />;\r\n    }\r\n  };\r\n\r\n  render() {\r\n    let status = this.state.status;\r\n    return (\r\n      <div style={{ marginTop: 10 }}>\r\n        {this.renderRedirect()}\r\n        <h3>Add New Game</h3>\r\n        <GameForm handleForm={this.onSubmit} mode=\"add\" />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default AddGame;\r\n"]},"metadata":{},"sourceType":"module"}