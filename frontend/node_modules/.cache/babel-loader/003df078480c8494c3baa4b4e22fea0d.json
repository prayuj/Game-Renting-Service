{"ast":null,"code":"import _classCallCheck from\"C:\\\\Prayuj Folders\\\\Game-Renting-Service\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Prayuj Folders\\\\Game-Renting-Service\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _assertThisInitialized from\"C:\\\\Prayuj Folders\\\\Game-Renting-Service\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:\\\\Prayuj Folders\\\\Game-Renting-Service\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Prayuj Folders\\\\Game-Renting-Service\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import CustomerForm from\"./customerForm\";import axios from\"axios\";import{Redirect}from\"react-router-dom\";var AddCustomer=/*#__PURE__*/function(_Component){_inherits(AddCustomer,_Component);var _super=_createSuper(AddCustomer);function AddCustomer(props){var _this;_classCallCheck(this,AddCustomer);_this=_super.call(this,props);_this.renderRedirect=function(){if(_this.state.redirect_to_dashboard){return/*#__PURE__*/React.createElement(Redirect,{push:true,to:\"/\"});}};_this.handleForm=_this.handleForm.bind(_assertThisInitialized(_this));_this.state={redirect_to_dashboard:false};return _this;}_createClass(AddCustomer,[{key:\"handleForm\",value:function handleForm(e){var _this2=this;e.preventDefault();var today=new Date();var dd=today.getDate();var mm=today.getMonth();var yyyy=today.getFullYear();console.log(e.target.name.value,e.target.email.value,e.target.address1.value,e.target.address2.value,e.target.inputCity.value,e.target.inputZip.value,e.target.mobileNo1.value,e.target.mobileNo2.value,e.target.plan.value);var endDate;var plan;if(e.target.plan.value===\"3 months, 1 game/month\"){endDate=new Date(yyyy,mm+3,dd);plan=\"3M1G\";}else if(e.target.plan.value===\"6 months, 2 games/month\"){endDate=new Date(yyyy,mm+6,dd);plan=\"6M2G\";}else if(e.target.plan.value===\"1 year, 4 games/month\"){endDate=new Date(yyyy+1,mm,dd);plan=\"1Y4G\";}var customer={name:e.target.name.value,email:e.target.email.value,address:e.target.address1.value,address2:e.target.address2.value,city:e.target.inputCity.value,zip:e.target.inputZip.value,mobile_no:e.target.mobileNo1.value,alt_mobile_no:e.target.mobileNo2.value,dateOfJoin:today,membership:[{plan:plan,start:today,end:endDate,active:true}]};console.log(customer);axios.post(\"https://prayuj-gamerent.herokuapp.com/add\",customer).then(function(res){console.log(res.data);_this2.setState({redirect_to_dashboard:true});}).catch(function(err){console.log(err);_this2.setState({status:\"An Error has occured, check console log.\"});});}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"div\",null,this.renderRedirect(),/*#__PURE__*/React.createElement(CustomerForm,{mode:\"add\",onSubmit:this.handleForm}));}}]);return AddCustomer;}(Component);export default AddCustomer;","map":{"version":3,"sources":["C:/Prayuj Folders/Game-Renting-Service/frontend/src/components/addCustomer.js"],"names":["React","Component","CustomerForm","axios","Redirect","AddCustomer","props","renderRedirect","state","redirect_to_dashboard","handleForm","bind","e","preventDefault","today","Date","dd","getDate","mm","getMonth","yyyy","getFullYear","console","log","target","name","value","email","address1","address2","inputCity","inputZip","mobileNo1","mobileNo2","plan","endDate","customer","address","city","zip","mobile_no","alt_mobile_no","dateOfJoin","membership","start","end","active","post","then","res","data","setState","catch","err","status"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport CustomerForm from \"./customerForm\";\r\nimport axios from \"axios\";\r\nimport { Redirect } from \"react-router-dom\";\r\n\r\nclass AddCustomer extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.handleForm = this.handleForm.bind(this);\r\n    this.state = {\r\n      redirect_to_dashboard: false,\r\n    };\r\n  }\r\n\r\n  handleForm(e) {\r\n    e.preventDefault();\r\n    let today = new Date();\r\n    let dd = today.getDate();\r\n    let mm = today.getMonth();\r\n    let yyyy = today.getFullYear();\r\n\r\n    console.log(\r\n      e.target.name.value,\r\n      e.target.email.value,\r\n      e.target.address1.value,\r\n      e.target.address2.value,\r\n      e.target.inputCity.value,\r\n      e.target.inputZip.value,\r\n      e.target.mobileNo1.value,\r\n      e.target.mobileNo2.value,\r\n      e.target.plan.value\r\n    );\r\n    let endDate;\r\n    let plan;\r\n    if (e.target.plan.value === \"3 months, 1 game/month\") {\r\n      endDate = new Date(yyyy, mm + 3, dd);\r\n      plan = \"3M1G\";\r\n    } else if (e.target.plan.value === \"6 months, 2 games/month\") {\r\n      endDate = new Date(yyyy, mm + 6, dd);\r\n      plan = \"6M2G\";\r\n    } else if (e.target.plan.value === \"1 year, 4 games/month\") {\r\n      endDate = new Date(yyyy + 1, mm, dd);\r\n      plan = \"1Y4G\";\r\n    }\r\n\r\n    let customer = {\r\n      name: e.target.name.value,\r\n      email: e.target.email.value,\r\n      address: e.target.address1.value,\r\n      address2: e.target.address2.value,\r\n      city: e.target.inputCity.value,\r\n      zip: e.target.inputZip.value,\r\n      mobile_no: e.target.mobileNo1.value,\r\n      alt_mobile_no: e.target.mobileNo2.value,\r\n      dateOfJoin: today,\r\n      membership: [{ plan: plan, start: today, end: endDate, active: true }],\r\n    };\r\n    console.log(customer);\r\n\r\n    axios\r\n      .post(\"https://prayuj-gamerent.herokuapp.com/add\", customer)\r\n      .then((res) => {\r\n        console.log(res.data);\r\n        this.setState({\r\n          redirect_to_dashboard: true,\r\n        });\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n        this.setState({\r\n          status: \"An Error has occured, check console log.\",\r\n        });\r\n      });\r\n  }\r\n\r\n  renderRedirect = () => {\r\n    if (this.state.redirect_to_dashboard) {\r\n      return <Redirect push to=\"/\" />;\r\n    }\r\n  };\r\n  render() {\r\n    return (\r\n      <div>\r\n        {this.renderRedirect()}\r\n        <CustomerForm mode=\"add\" onSubmit={this.handleForm} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default AddCustomer;\r\n"]},"metadata":{},"sourceType":"module"}