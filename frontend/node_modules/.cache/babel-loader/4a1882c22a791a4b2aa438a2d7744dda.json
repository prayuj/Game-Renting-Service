{"ast":null,"code":"var _jsxFileName = \"C:\\\\Prayuj Folders\\\\Game-Renting-Service\\\\frontend\\\\src\\\\components\\\\addGame.js\";\nimport React, { Component } from \"react\";\nimport GameForm from \"./gameForm\";\nimport axios from \"axios\";\nimport { Redirect } from \"react-router-dom\";\n\nclass AddGame extends Component {\n  constructor(props) {\n    super(props);\n\n    this.renderRedirect = () => {\n      if (this.state.redirect_to_dashboard) {\n        return /*#__PURE__*/React.createElement(Redirect, {\n          push: true,\n          to: \"/\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 14\n          }\n        });\n      }\n    };\n\n    this.state = {\n      redirect_to_dashboard: false,\n      game_name: \"\",\n      game_description: \"\",\n      game_properties: [{\n        console: \"\",\n        id: 1,\n        serial: \"\",\n        mrp: \"\"\n      }],\n      count: 1\n    };\n    this.onAdd = this.onAdd.bind(this);\n    this.onDelete = this.onDelete.bind(this);\n    this.onSubmit = this.onSubmit.bind(this);\n  }\n\n  onAdd() {\n    let temp_game_properties = this.state.game_properties;\n    temp_game_properties.push({\n      id: this.state.count + 1,\n      serial: \"\",\n      console: \"\",\n      mrp: \"\"\n    });\n    console.log(temp_game_properties);\n    this.setState({\n      game_properties: temp_game_properties,\n      count: this.state.count + 1\n    });\n  }\n\n  onDelete(e) {\n    console.log(e.target.id);\n    let temp_game_properties = this.state.game_properties;\n    console.log(temp_game_properties);\n\n    for (let i = 0; i < temp_game_properties.length; i++) {\n      console.log(temp_game_properties[i].id.toString() == e.target.id);\n\n      if (temp_game_properties[i].id == e.target.id.toString()) {\n        console.log(\"Found\");\n        temp_game_properties.splice(i, 1);\n      }\n    }\n\n    console.log(temp_game_properties);\n    this.setState({\n      game_properties: temp_game_properties\n    });\n  }\n\n  onSubmit(e, count, items) {\n    console.log(e.target, count);\n    console.log(`Form submitted:`);\n    console.log(`Game Name: ${e.target.name.value}`);\n    console.log(`Game Description: ${e.target.description.value}`);\n    console.log(\"Game Properties\");\n    items = [];\n\n    for (let i = 0; i < count; i++) {\n      console.log(\"hello\");\n      let index = 4 * i + 2;\n      let serial = e.target[index].value;\n      let consol = e.target[index + 1].value;\n      let mrp = e.target[index + 2].value;\n      items.push({\n        console: consol,\n        serial_no: serial,\n        status: \"Available\",\n        responsible: \"Owner\",\n        mrp: mrp,\n        description: \"Test\"\n      });\n      console.log(items[i]);\n    }\n\n    const newGame = {\n      name: e.target.name.value,\n      description: e.target.description.value,\n      items: items\n    };\n    axios.post(this.props.url + \"/game/add\", newGame).then(res => {\n      console.log(res.data);\n      this.setState({\n        redirect_to_dashboard: true\n      });\n    }).catch(err => console.log(err));\n    this.setState({\n      game_name: \"\",\n      game_description: \"\",\n      game_properties: [{\n        console: \"\",\n        id: 1,\n        serial: \"\",\n        console: \"\",\n        mrp: \"\"\n      }],\n      count: 1\n    });\n  }\n\n  render() {\n    let status = this.state.status;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        marginTop: 10\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 7\n      }\n    }, this.renderRedirect(), /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 9\n      }\n    }, \"Add New Game\"), /*#__PURE__*/React.createElement(GameForm, {\n      handleForm: this.onSubmit,\n      mode: \"add\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 9\n      }\n    }));\n  }\n\n}\n\nexport default AddGame;","map":{"version":3,"sources":["C:/Prayuj Folders/Game-Renting-Service/frontend/src/components/addGame.js"],"names":["React","Component","GameForm","axios","Redirect","AddGame","constructor","props","renderRedirect","state","redirect_to_dashboard","game_name","game_description","game_properties","console","id","serial","mrp","count","onAdd","bind","onDelete","onSubmit","temp_game_properties","push","log","setState","e","target","i","length","toString","splice","items","name","value","description","index","consol","serial_no","status","responsible","newGame","post","url","then","res","data","catch","err","render","marginTop"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport GameForm from \"./gameForm\";\r\nimport axios from \"axios\";\r\nimport { Redirect } from \"react-router-dom\";\r\n\r\nclass AddGame extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      redirect_to_dashboard: false,\r\n      game_name: \"\",\r\n      game_description: \"\",\r\n      game_properties: [\r\n        {\r\n          console: \"\",\r\n          id: 1,\r\n          serial: \"\",\r\n          mrp: \"\",\r\n        },\r\n      ],\r\n      count: 1,\r\n    };\r\n    this.onAdd = this.onAdd.bind(this);\r\n    this.onDelete = this.onDelete.bind(this);\r\n    this.onSubmit = this.onSubmit.bind(this);\r\n  }\r\n\r\n  onAdd() {\r\n    let temp_game_properties = this.state.game_properties;\r\n    temp_game_properties.push({\r\n      id: this.state.count + 1,\r\n      serial: \"\",\r\n      console: \"\",\r\n      mrp: \"\",\r\n    });\r\n    console.log(temp_game_properties);\r\n    this.setState({\r\n      game_properties: temp_game_properties,\r\n      count: this.state.count + 1,\r\n    });\r\n  }\r\n\r\n  onDelete(e) {\r\n    console.log(e.target.id);\r\n    let temp_game_properties = this.state.game_properties;\r\n    console.log(temp_game_properties);\r\n    for (let i = 0; i < temp_game_properties.length; i++) {\r\n      console.log(temp_game_properties[i].id.toString() == e.target.id);\r\n      if (temp_game_properties[i].id == e.target.id.toString()) {\r\n        console.log(\"Found\");\r\n        temp_game_properties.splice(i, 1);\r\n      }\r\n    }\r\n    console.log(temp_game_properties);\r\n    this.setState({\r\n      game_properties: temp_game_properties,\r\n    });\r\n  }\r\n\r\n  onSubmit(e, count, items) {\r\n    console.log(e.target, count);\r\n    console.log(`Form submitted:`);\r\n    console.log(`Game Name: ${e.target.name.value}`);\r\n    console.log(`Game Description: ${e.target.description.value}`);\r\n    console.log(\"Game Properties\");\r\n    items = [];\r\n    for (let i = 0; i < count; i++) {\r\n      console.log(\"hello\");\r\n      let index = 4 * i + 2;\r\n      let serial = e.target[index].value;\r\n      let consol = e.target[index + 1].value;\r\n      let mrp = e.target[index + 2].value;\r\n      items.push({\r\n        console: consol,\r\n        serial_no: serial,\r\n        status: \"Available\",\r\n        responsible: \"Owner\",\r\n        mrp: mrp,\r\n        description: \"Test\",\r\n      });\r\n\r\n      console.log(items[i]);\r\n    }\r\n\r\n    const newGame = {\r\n      name: e.target.name.value,\r\n      description: e.target.description.value,\r\n      items: items,\r\n    };\r\n\r\n    axios\r\n      .post(this.props.url + \"/game/add\", newGame)\r\n      .then((res) => {\r\n        console.log(res.data);\r\n        this.setState({\r\n          redirect_to_dashboard: true,\r\n        });\r\n      })\r\n      .catch((err) => console.log(err));\r\n\r\n    this.setState({\r\n      game_name: \"\",\r\n      game_description: \"\",\r\n      game_properties: [\r\n        {\r\n          console: \"\",\r\n          id: 1,\r\n          serial: \"\",\r\n          console: \"\",\r\n          mrp: \"\",\r\n        },\r\n      ],\r\n      count: 1,\r\n    });\r\n  }\r\n\r\n  renderRedirect = () => {\r\n    if (this.state.redirect_to_dashboard) {\r\n      return <Redirect push to=\"/\" />;\r\n    }\r\n  };\r\n\r\n  render() {\r\n    let status = this.state.status;\r\n    return (\r\n      <div style={{ marginTop: 10 }}>\r\n        {this.renderRedirect()}\r\n        <h3>Add New Game</h3>\r\n        <GameForm handleForm={this.onSubmit} mode=\"add\" />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default AddGame;\r\n"]},"metadata":{},"sourceType":"module"}