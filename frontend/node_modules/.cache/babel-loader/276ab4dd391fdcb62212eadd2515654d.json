{"ast":null,"code":"var _jsxFileName = \"C:\\\\Prayuj Folders\\\\Game-Renting-Service\\\\frontend\\\\src\\\\components\\\\updateCustomer.js\";\nimport React, { Component } from \"react\";\nimport CustomerForm from \"./customerForm\";\nimport axios from \"axios\";\nimport { Redirect } from \"react-router-dom\";\n\nclass UpdateCustomer extends Component {\n  constructor(props) {\n    super(props);\n\n    this.setRedirect = () => {\n      console.log(\"Test\");\n      this.setState({\n        redirect: true\n      });\n    };\n\n    this.renderRedirect = () => {\n      if (this.state.redirect) {\n        return React.createElement(Redirect, {\n          push: true,\n          to: \"/customer/\" + this.state.id,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 108\n          },\n          __self: this\n        });\n      }\n    };\n\n    this.state = {\n      id: props.match.params.id,\n      name: \"\",\n      email: \"\",\n      address: \"\",\n      address2: \"\",\n      city: \"\",\n      zip: \"\",\n      mobile_no: \"\",\n      alt_mobile_no: \"\",\n      membership: []\n    };\n    this.handleForm = this.handleForm.bind(this);\n  }\n\n  componentDidMount() {\n    this.getData();\n  }\n\n  getData() {\n    axios.get(\"https://prayuj-gamerent.herokuapp.com/customer/\" + this.state.id).then(res => {\n      this.setState({\n        name: res.data.name,\n        email: res.data.email,\n        address: res.data.address,\n        address2: res.data.address2,\n        city: res.data.city,\n        zip: res.data.zip,\n        mobile_no: res.data.mobile_no,\n        alt_mobile_no: res.data.alt_mobile_no,\n        membership: res.data.membership\n      });\n      console.log(res.data);\n    });\n  }\n\n  handleForm(e) {\n    e.preventDefault();\n    console.log(e.target.name.value, e.target.email.value, e.target.address1.value, e.target.address2.value, e.target.inputCity.value, e.target.inputZip.value, e.target.mobileNo1.value, e.target.mobileNo2.value); // let endDate;\n    // let plan;\n    // if (e.target.plan.value === \"3 months, 1 game/month\") {\n    //   endDate = new Date(yyyy, mm + 3, dd);\n    //   plan = \"3M1G\";\n    // } else if (e.target.plan.value === \"6 months, 2 games/month\") {\n    //   endDate = new Date(yyyy, mm + 6, dd);\n    //   plan = \"6M2G\";\n    // } else if (e.target.plan.value === \"1 year, 4 games/month\") {\n    //   endDate = new Date(yyyy + 1, mm, dd);\n    //   plan = \"1Y4G\";\n    // }\n\n    let customer = {\n      id: this.state.id,\n      name: e.target.name.value,\n      email: e.target.email.value,\n      address: e.target.address1.value,\n      address2: e.target.address2.value,\n      city: e.target.inputCity.value,\n      zip: e.target.inputZip.value,\n      mobile_no: e.target.mobileNo1.value,\n      alt_mobile_no: e.target.mobileNo1.value\n    };\n    axios.post(\"https://prayuj-gamerent.herokuapp.com/customer/update/\" + this.state.id, customer).then(res => {\n      console.log(res.data);\n      this.setRedirect();\n    }).catch(err => {\n      console.log(err);\n    }); // console.log(customer);\n  }\n\n  render() {\n    console.log(this.state.id);\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, this.renderRedirect(), React.createElement(CustomerForm, {\n      mode: \"edit\",\n      onSubmit: this.handleForm,\n      name: this.state.name,\n      email: this.state.email,\n      address: this.state.address,\n      address2: this.state.address2,\n      city: this.state.city,\n      zip: this.state.zip,\n      mobile_no: this.state.mobile_no,\n      alt_mobile_no: this.state.alt_mobile_no,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }));\n  }\n\n} // mode: \"Update this Customer\",\n//         name: props.name,\n//         email: props.email,\n//         address: props.address,\n//         address2: props.address2,\n//         city: props.city,\n//         zip: props.zip,\n//         mobile_no: props.mobile_no,\n//         alt_mobile_no: props.alt_mobile_no,\n//         show: false\n\n\nexport default UpdateCustomer;","map":{"version":3,"sources":["C:\\Prayuj Folders\\Game-Renting-Service\\frontend\\src\\components\\updateCustomer.js"],"names":["React","Component","CustomerForm","axios","Redirect","UpdateCustomer","constructor","props","setRedirect","console","log","setState","redirect","renderRedirect","state","id","match","params","name","email","address","address2","city","zip","mobile_no","alt_mobile_no","membership","handleForm","bind","componentDidMount","getData","get","then","res","data","e","preventDefault","target","value","address1","inputCity","inputZip","mobileNo1","mobileNo2","customer","post","catch","err","render"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport CustomerForm from \"./customerForm\";\r\nimport axios from \"axios\";\r\nimport { Redirect } from \"react-router-dom\";\r\n\r\nclass UpdateCustomer extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      id: props.match.params.id,\r\n      name: \"\",\r\n      email: \"\",\r\n      address: \"\",\r\n      address2: \"\",\r\n      city: \"\",\r\n      zip: \"\",\r\n      mobile_no: \"\",\r\n      alt_mobile_no: \"\",\r\n      membership: [],\r\n    };\r\n    this.handleForm = this.handleForm.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.getData();\r\n  }\r\n\r\n  getData() {\r\n    axios\r\n      .get(\"https://prayuj-gamerent.herokuapp.com/customer/\" + this.state.id)\r\n      .then((res) => {\r\n        this.setState({\r\n          name: res.data.name,\r\n          email: res.data.email,\r\n          address: res.data.address,\r\n          address2: res.data.address2,\r\n          city: res.data.city,\r\n          zip: res.data.zip,\r\n          mobile_no: res.data.mobile_no,\r\n          alt_mobile_no: res.data.alt_mobile_no,\r\n          membership: res.data.membership,\r\n        });\r\n        console.log(res.data);\r\n      });\r\n  }\r\n\r\n  handleForm(e) {\r\n    e.preventDefault();\r\n    console.log(\r\n      e.target.name.value,\r\n      e.target.email.value,\r\n      e.target.address1.value,\r\n      e.target.address2.value,\r\n      e.target.inputCity.value,\r\n      e.target.inputZip.value,\r\n      e.target.mobileNo1.value,\r\n      e.target.mobileNo2.value\r\n    );\r\n    // let endDate;\r\n    // let plan;\r\n    // if (e.target.plan.value === \"3 months, 1 game/month\") {\r\n    //   endDate = new Date(yyyy, mm + 3, dd);\r\n    //   plan = \"3M1G\";\r\n    // } else if (e.target.plan.value === \"6 months, 2 games/month\") {\r\n    //   endDate = new Date(yyyy, mm + 6, dd);\r\n    //   plan = \"6M2G\";\r\n    // } else if (e.target.plan.value === \"1 year, 4 games/month\") {\r\n    //   endDate = new Date(yyyy + 1, mm, dd);\r\n    //   plan = \"1Y4G\";\r\n    // }\r\n    let customer = {\r\n      id: this.state.id,\r\n      name: e.target.name.value,\r\n      email: e.target.email.value,\r\n      address: e.target.address1.value,\r\n      address2: e.target.address2.value,\r\n      city: e.target.inputCity.value,\r\n      zip: e.target.inputZip.value,\r\n      mobile_no: e.target.mobileNo1.value,\r\n      alt_mobile_no: e.target.mobileNo1.value,\r\n    };\r\n\r\n    axios\r\n      .post(\r\n        \"https://prayuj-gamerent.herokuapp.com/customer/update/\" +\r\n          this.state.id,\r\n        customer\r\n      )\r\n      .then((res) => {\r\n        console.log(res.data);\r\n        this.setRedirect();\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n    // console.log(customer);\r\n  }\r\n\r\n  setRedirect = () => {\r\n    console.log(\"Test\");\r\n    this.setState({\r\n      redirect: true,\r\n    });\r\n  };\r\n\r\n  renderRedirect = () => {\r\n    if (this.state.redirect) {\r\n      return <Redirect push to={\"/customer/\" + this.state.id} />;\r\n    }\r\n  };\r\n  render() {\r\n    console.log(this.state.id);\r\n    return (\r\n      <div>\r\n        {this.renderRedirect()}\r\n        <CustomerForm\r\n          mode=\"edit\"\r\n          onSubmit={this.handleForm}\r\n          name={this.state.name}\r\n          email={this.state.email}\r\n          address={this.state.address}\r\n          address2={this.state.address2}\r\n          city={this.state.city}\r\n          zip={this.state.zip}\r\n          mobile_no={this.state.mobile_no}\r\n          alt_mobile_no={this.state.alt_mobile_no}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n// mode: \"Update this Customer\",\r\n//         name: props.name,\r\n//         email: props.email,\r\n//         address: props.address,\r\n//         address2: props.address2,\r\n//         city: props.city,\r\n//         zip: props.zip,\r\n//         mobile_no: props.mobile_no,\r\n//         alt_mobile_no: props.alt_mobile_no,\r\n//         show: false\r\n\r\nexport default UpdateCustomer;\r\n"]},"metadata":{},"sourceType":"module"}