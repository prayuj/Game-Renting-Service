{"ast":null,"code":"var _jsxFileName = \"C:\\\\Prayuj Folders\\\\Game-Renting-Service\\\\frontend\\\\src\\\\components\\\\gameForm.js\";\nimport React, { Component } from \"react\";\n\nclass GameForm extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      name: \"\",\n      description: \"\",\n      items: [{\n        console: \"Choose a console\",\n        _id: 0,\n        serial_no: \"\",\n        mrp: \"\",\n        description: \"\",\n        status: \"Available\"\n      }],\n      old_items: [],\n      id_count: 0,\n      count: 1\n    };\n    this.onAdd = this.onAdd.bind(this);\n    this.onDelete = this.onDelete.bind(this);\n    this.handleForm = this.handleForm.bind(this);\n    this.onChangeOfAvailableButton = this.onChangeOfAvailableButton.bind(this);\n    this.nameChange = this.nameChange.bind(this);\n    this.descriptionChange = this.descriptionChange.bind(this);\n    this.itemsChange = this.itemsChange.bind(this);\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.mode === \"update\") this.setState({\n      name: nextProps.name,\n      description: nextProps.description,\n      old_items: nextProps.items,\n      count: nextProps.count,\n      items: [],\n      count: 0\n    });\n  }\n\n  onAdd() {\n    let items = this.state.items;\n    items.push({\n      _id: this.state.id_count + 1,\n      serial_no: \"\",\n      console: \"\",\n      mrp: \"\",\n      new: true,\n      status: \"Available\"\n    });\n    console.log(items);\n    this.setState({\n      items: items,\n      id_count: this.state.id_count + 1,\n      count: this.state.count + 1\n    });\n  }\n\n  onChangeOfAvailableButton(e) {\n    console.log(e.target);\n    let temp_old_items = this.state.old_items;\n\n    for (let i = 0; i < temp_old_items.length; i++) {\n      if (temp_old_items[i]._id == e.target.id) {\n        temp_old_items[i].status = temp_old_items[i].status === \"Unavailable\" ? \"Available\" : \"Unavailable\";\n      }\n    }\n\n    this.setState({\n      old_items: temp_old_items\n    });\n  }\n\n  onDelete(e) {\n    console.log(e.target.id);\n    let items = this.state.items;\n    console.log(items);\n\n    for (let i = 0; i < items.length; i++) {\n      if (items[i]._id == e.target.id.toString()) {\n        console.log(\"Found\");\n        items.splice(i, 1);\n      }\n    }\n\n    console.log(items);\n    this.setState({\n      items: items,\n      count: this.state.count - 1\n    });\n  }\n\n  handleForm(e) {\n    e.preventDefault();\n    console.log(this.state.count);\n    this.props.handleForm(e, this.state.count, this.state.items, this.state.old_items);\n  }\n\n  nameChange(e) {\n    console.log(e.target.value);\n    this.setState({\n      name: e.target.value\n    });\n  }\n\n  descriptionChange(e) {\n    this.setState({\n      description: e.target.value\n    });\n  }\n\n  itemsChange(e) {\n    console.log(e.target.name, e.target.value, e.target.id);\n    let items = this.state.items;\n\n    for (let i = 0; i < items.length; i++) {\n      let item = items[i];\n\n      if (item._id === parseInt(e.target.id)) {\n        if (e.target.name === \"serial\") {\n          item.serial_no = e.target.value;\n        } else if (e.target.name === \"console\") {\n          item.console = e.target.value;\n        } else {\n          item.mrp = e.target.value;\n        }\n      }\n    }\n\n    this.setState({\n      items: items\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      style: {\n        marginTop: 10\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      onSubmit: this.handleForm,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140\n      },\n      __self: this\n    }, \"Name: \"), React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      name: \"name\",\n      value: this.state.name,\n      required: true,\n      onChange: this.nameChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151\n      },\n      __self: this\n    }, \"Description: \"), React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      name: \"description\",\n      value: this.state.description,\n      required: true,\n      onChange: this.descriptionChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152\n      },\n      __self: this\n    })), this.state.old_items ? this.state.old_items.map(game => React.createElement(\"div\", {\n      className: \"form-row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-group col-md-6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      id: game._id,\n      type: \"text\",\n      className: \"form-control\",\n      placeholder: \"Serial No.\",\n      name: \"serial\",\n      disabled: true,\n      value: game.serial_no,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group col-md-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175\n      },\n      __self: this\n    }, React.createElement(\"select\", {\n      className: \"form-control\",\n      id: game._id,\n      name: \"console\",\n      disabled: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182\n      },\n      __self: this\n    }, \"Choose a console\"), React.createElement(\"option\", {\n      selected: game.console === \"PS4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183\n      },\n      __self: this\n    }, \"PS4\"), React.createElement(\"option\", {\n      selected: game.console === \"XBOX One\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184\n      },\n      __self: this\n    }, \"XBOX One\"))), React.createElement(\"div\", {\n      className: \"form-group col-md-1 \",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      placeholder: \"Price\",\n      name: \"price\",\n      id: game._id,\n      disabled: true,\n      value: game.mrp,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      type: \"button\",\n      className: \"btn btn-danger\",\n      onClick: this.onChangeOfAvailableButton,\n      disabled: game.responsible === \"Owner\" ? false : true,\n      id: game._id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201\n      },\n      __self: this\n    }, game.status === \"Available\" ? \"Make Unavailable\" : \"Make Available\")))) : React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216\n      },\n      __self: this\n    }), this.state.items.map(game => React.createElement(\"div\", {\n      className: \"form-row\",\n      onChange: this.itemsChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 219\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-group col-md-6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 220\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      id: game._id,\n      className: \"form-control\",\n      placeholder: \"Serial No.\",\n      name: \"serial\",\n      value: game.serial_no,\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group col-md-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 231\n      },\n      __self: this\n    }, React.createElement(\"select\", {\n      className: \"form-control\",\n      name: \"console\",\n      id: game._id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 232\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      selected: game.console === \"PS4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 233\n      },\n      __self: this\n    }, \"PS4\"), React.createElement(\"option\", {\n      selected: game.console === \"XBOX One\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 234\n      },\n      __self: this\n    }, \"XBOX One\"))), React.createElement(\"div\", {\n      className: \"form-group col-md-1 \",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 239\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      id: game._id,\n      className: \"form-control\",\n      placeholder: \"Price\",\n      name: \"price\",\n      value: game.mrp,\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 240\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 250\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      type: \"button\",\n      className: \"btn btn-danger\",\n      onClick: this.onDelete,\n      id: game._id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 251\n      },\n      __self: this\n    }, \"Delete\")))), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 263\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      type: \"button\",\n      className: \"btn btn-primary\",\n      onClick: this.onAdd,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 264\n      },\n      __self: this\n    }, \"Add\")), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 272\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"submit\",\n      value: this.props.mode === \"add\" ? \"Add new Game\" : \"Update Game\",\n      className: \"btn btn-primary\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 273\n      },\n      __self: this\n    }))));\n  }\n\n}\n\nexport default GameForm;","map":{"version":3,"sources":["C:\\Prayuj Folders\\Game-Renting-Service\\frontend\\src\\components\\gameForm.js"],"names":["React","Component","GameForm","constructor","props","state","name","description","items","console","_id","serial_no","mrp","status","old_items","id_count","count","onAdd","bind","onDelete","handleForm","onChangeOfAvailableButton","nameChange","descriptionChange","itemsChange","componentWillReceiveProps","nextProps","mode","setState","push","new","log","e","target","temp_old_items","i","length","id","toString","splice","preventDefault","value","item","parseInt","render","marginTop","map","game","responsible"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\n\r\nclass GameForm extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      name: \"\",\r\n      description: \"\",\r\n      items: [\r\n        {\r\n          console: \"Choose a console\",\r\n          _id: 0,\r\n          serial_no: \"\",\r\n          mrp: \"\",\r\n          description: \"\",\r\n          status: \"Available\"\r\n        }\r\n      ],\r\n      old_items: [],\r\n      id_count: 0,\r\n      count: 1\r\n    };\r\n    this.onAdd = this.onAdd.bind(this);\r\n    this.onDelete = this.onDelete.bind(this);\r\n    this.handleForm = this.handleForm.bind(this);\r\n    this.onChangeOfAvailableButton = this.onChangeOfAvailableButton.bind(this);\r\n    this.nameChange = this.nameChange.bind(this);\r\n    this.descriptionChange = this.descriptionChange.bind(this);\r\n    this.itemsChange = this.itemsChange.bind(this);\r\n  }\r\n\r\n  componentWillReceiveProps(nextProps) {\r\n    if (nextProps.mode === \"update\")\r\n      this.setState({\r\n        name: nextProps.name,\r\n        description: nextProps.description,\r\n        old_items: nextProps.items,\r\n        count: nextProps.count,\r\n        items: [],\r\n        count: 0\r\n      });\r\n  }\r\n\r\n  onAdd() {\r\n    let items = this.state.items;\r\n    items.push({\r\n      _id: this.state.id_count + 1,\r\n      serial_no: \"\",\r\n      console: \"\",\r\n      mrp: \"\",\r\n      new: true,\r\n      status: \"Available\"\r\n    });\r\n    console.log(items);\r\n    this.setState({\r\n      items: items,\r\n      id_count: this.state.id_count + 1,\r\n      count: this.state.count + 1\r\n    });\r\n  }\r\n  onChangeOfAvailableButton(e) {\r\n    console.log(e.target);\r\n    let temp_old_items = this.state.old_items;\r\n    for (let i = 0; i < temp_old_items.length; i++) {\r\n      if (temp_old_items[i]._id == e.target.id) {\r\n        temp_old_items[i].status =\r\n          temp_old_items[i].status === \"Unavailable\"\r\n            ? \"Available\"\r\n            : \"Unavailable\";\r\n      }\r\n    }\r\n    this.setState({\r\n      old_items: temp_old_items\r\n    });\r\n  }\r\n  onDelete(e) {\r\n    console.log(e.target.id);\r\n    let items = this.state.items;\r\n    console.log(items);\r\n    for (let i = 0; i < items.length; i++) {\r\n      if (items[i]._id == e.target.id.toString()) {\r\n        console.log(\"Found\");\r\n        items.splice(i, 1);\r\n      }\r\n    }\r\n    console.log(items);\r\n    this.setState({\r\n      items: items,\r\n      count: this.state.count - 1\r\n    });\r\n  }\r\n  handleForm(e) {\r\n    e.preventDefault();\r\n    console.log(this.state.count);\r\n    this.props.handleForm(\r\n      e,\r\n      this.state.count,\r\n      this.state.items,\r\n      this.state.old_items\r\n    );\r\n  }\r\n\r\n  nameChange(e) {\r\n    console.log(e.target.value);\r\n    this.setState({\r\n      name: e.target.value\r\n    });\r\n  }\r\n\r\n  descriptionChange(e) {\r\n    this.setState({\r\n      description: e.target.value\r\n    });\r\n  }\r\n\r\n  itemsChange(e) {\r\n    console.log(e.target.name, e.target.value, e.target.id);\r\n    let items = this.state.items;\r\n    for (let i = 0; i < items.length; i++) {\r\n      let item = items[i];\r\n      if (item._id === parseInt(e.target.id)) {\r\n        if (e.target.name === \"serial\") {\r\n          item.serial_no = e.target.value;\r\n        } else if (e.target.name === \"console\") {\r\n          item.console = e.target.value;\r\n        } else {\r\n          item.mrp = e.target.value;\r\n        }\r\n      }\r\n    }\r\n    this.setState({\r\n      items: items\r\n    });\r\n  }\r\n  render() {\r\n    return (\r\n      <div style={{ marginTop: 10 }}>\r\n        <form onSubmit={this.handleForm}>\r\n          <div className=\"form-group\">\r\n            <label>Name: </label>\r\n            <input\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              name=\"name\"\r\n              value={this.state.name}\r\n              required\r\n              onChange={this.nameChange}\r\n            />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label>Description: </label>\r\n            <input\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              name=\"description\"\r\n              value={this.state.description}\r\n              required\r\n              onChange={this.descriptionChange}\r\n            />\r\n          </div>\r\n          {this.state.old_items ? (\r\n            this.state.old_items.map(game => (\r\n              <div className=\"form-row\">\r\n                <div className=\"form-group col-md-6\">\r\n                  <input\r\n                    id={game._id}\r\n                    type=\"text\"\r\n                    className=\"form-control\"\r\n                    placeholder=\"Serial No.\"\r\n                    name=\"serial\"\r\n                    disabled={true}\r\n                    value={game.serial_no}\r\n                  />\r\n                </div>\r\n                <div className=\"form-group col-md-3\">\r\n                  <select\r\n                    className=\"form-control\"\r\n                    id={game._id}\r\n                    name=\"console\"\r\n                    disabled={true}\r\n                  >\r\n                    <option>Choose a console</option>\r\n                    <option selected={game.console === \"PS4\"}>PS4</option>\r\n                    <option selected={game.console === \"XBOX One\"}>\r\n                      XBOX One\r\n                    </option>\r\n                  </select>\r\n                </div>\r\n                <div className=\"form-group col-md-1 \">\r\n                  <input\r\n                    type=\"text\"\r\n                    className=\"form-control\"\r\n                    placeholder=\"Price\"\r\n                    name=\"price\"\r\n                    id={game._id}\r\n                    disabled={true}\r\n                    value={game.mrp}\r\n                  />\r\n                </div>\r\n                <div className=\"form-group\">\r\n                  <button\r\n                    type=\"button\"\r\n                    className=\"btn btn-danger\"\r\n                    onClick={this.onChangeOfAvailableButton}\r\n                    disabled={game.responsible === \"Owner\" ? false : true}\r\n                    id={game._id}\r\n                  >\r\n                    {game.status === \"Available\"\r\n                      ? \"Make Unavailable\"\r\n                      : \"Make Available\"}\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            ))\r\n          ) : (\r\n            <div />\r\n          )}\r\n          {this.state.items.map(game => (\r\n            <div className=\"form-row\" onChange={this.itemsChange}>\r\n              <div className=\"form-group col-md-6\">\r\n                <input\r\n                  type=\"text\"\r\n                  id={game._id}\r\n                  className=\"form-control\"\r\n                  placeholder=\"Serial No.\"\r\n                  name=\"serial\"\r\n                  value={game.serial_no}\r\n                  required\r\n                />\r\n              </div>\r\n              <div className=\"form-group col-md-3\">\r\n                <select className=\"form-control\" name=\"console\" id={game._id}>\r\n                  <option selected={game.console === \"PS4\"}>PS4</option>\r\n                  <option selected={game.console === \"XBOX One\"}>\r\n                    XBOX One\r\n                  </option>\r\n                </select>\r\n              </div>\r\n              <div className=\"form-group col-md-1 \">\r\n                <input\r\n                  type=\"text\"\r\n                  id={game._id}\r\n                  className=\"form-control\"\r\n                  placeholder=\"Price\"\r\n                  name=\"price\"\r\n                  value={game.mrp}\r\n                  required\r\n                />\r\n              </div>\r\n              <div className=\"form-group\">\r\n                <button\r\n                  type=\"button\"\r\n                  className=\"btn btn-danger\"\r\n                  onClick={this.onDelete}\r\n                  id={game._id}\r\n                >\r\n                  Delete\r\n                </button>\r\n              </div>\r\n            </div>\r\n          ))}\r\n\r\n          <div className=\"form-group\">\r\n            <button\r\n              type=\"button\"\r\n              className=\"btn btn-primary\"\r\n              onClick={this.onAdd}\r\n            >\r\n              Add\r\n            </button>\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <input\r\n              type=\"submit\"\r\n              value={this.props.mode === \"add\" ? \"Add new Game\" : \"Update Game\"}\r\n              className=\"btn btn-primary\"\r\n            />\r\n          </div>\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default GameForm;\r\n"]},"metadata":{},"sourceType":"module"}