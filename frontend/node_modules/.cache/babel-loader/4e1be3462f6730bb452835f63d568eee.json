{"ast":null,"code":"var _jsxFileName = \"C:\\\\Prayuj Folders\\\\Game-Renting-Service\\\\frontend\\\\src\\\\components\\\\customers.js\";\nimport React, { Component } from \"react\";\nimport Customer from \"./customer\";\nimport axios from \"axios\";\nimport { Redirect } from \"react-router-dom\";\nimport LoadingSpinner from \"./loadingSpinner\";\n\nclass Customers extends Component {\n  constructor(props) {\n    super(props);\n\n    this.setRedirect = () => {\n      this.setState({\n        redirect: true\n      });\n    };\n\n    this.renderRedirect = () => {\n      if (this.state.redirect) {\n        return /*#__PURE__*/React.createElement(Redirect, {\n          push: true,\n          to: \"/add_customer/\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 14\n          }\n        });\n      }\n    };\n\n    this.state = {\n      customers: [],\n      search: \"\",\n      filtered: [],\n      ascendingName: true,\n      ascendingDOJ: true,\n      ascendingMembershipEnd: true,\n      ascendingNoOfGames: true,\n      nameSortButtonValue: \"Sort\",\n      DOJSortButtonValue: \"Sort\",\n      membershipEndSortButtonValue: /*#__PURE__*/React.createElement(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 20,\n          columnNumber: 37\n        }\n      }, \"\\u2193\"),\n      noOfGamesSortButtonValue: \"Sort\",\n      customers_loaded: false\n    };\n    this.getCustomers = this.getCustomers.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n    this.onClickForSort = this.onClickForSort.bind(this);\n  }\n\n  componentDidMount() {\n    this.getCustomers();\n  }\n\n  getCustomers() {\n    axios.get(\"https://prayuj-gamerent.herokuapp.com/customer/\").then(res => {\n      this.setState({\n        customers: res.data,\n        filtered: res.data,\n        customers_loaded: true\n      });\n    });\n  }\n\n  convertDate(dates) {\n    var date = new Date(dates);\n    var dd = String(date.getDate()).padStart(2, \"0\");\n    var mm = String(date.getMonth() + 1).padStart(2, \"0\"); //January is 0!\n\n    var yyyy = date.getFullYear();\n    var today = dd + \"/\" + mm + \"/\" + yyyy;\n    return today;\n  }\n\n  handleChange(e) {\n    // Variable to hold the original version of the list\n    let currentList = []; // Variable to hold the filtered list before putting into state\n\n    let newList = []; // If the search bar isn't empty\n\n    if (e.target.value !== \"\") {\n      //console.log(\"HERE 1\");\n      // Assign the original list to currentList\n      currentList = this.state.customers;\n      let firstList = [];\n      let secondList = []; // Use .filter() to determine which items should be displayed\n      // based on the search terms\n\n      firstList = currentList.filter(customer => {\n        // change current item to lowercase\n        const lc = customer.name.toLowerCase(); // change search term to lowercase\n\n        const filter = e.target.value.toLowerCase(); // check to see if the current list item includes the search term\n        // If it does, it will be added to newList. Using lowercase eliminates\n        // issues with capitalization in search terms and search content\n\n        return lc.includes(filter);\n      });\n      secondList = currentList.filter(customer => {\n        // change current item to lowercase\n        const lc = customer.name.toLowerCase(); // change search term to lowercase\n\n        const filter = e.target.value.toLowerCase(); // check to see if the current list item includes the search term\n        // If it does, it will be added to newList. Using lowercase eliminates\n        // issues with capitalization in search terms and search content\n\n        return lc.includes(filter);\n      });\n\n      for (let i = 0; i < secondList.length; i++) {\n        let flag = true;\n\n        for (let j = 0; j < firstList.length; j++) {\n          if (JSON.stringify(secondList[i]) === JSON.stringify(firstList[j])) flag = false;\n        }\n\n        if (flag) firstList.push(secondList[i]);\n      }\n\n      newList = firstList; //console.log(newList);\n    } else {\n      console.log(\"HERE 2\"); // If the search bar is empty, set newList to original task list\n\n      newList = this.state.customers;\n    } // Set the filtered state based on what our rules added to newList\n\n\n    this.setState({\n      filtered: newList\n    });\n  }\n\n  onClickForSort(e) {\n    console.log(e.target.value);\n\n    if (e.target.value === \"Name\") {\n      let customers = this.state.filtered;\n      customers.sort((a, b) => {\n        var x = a.name.toLowerCase();\n        var y = b.name.toLowerCase();\n\n        if (this.state.ascendingName) {\n          if (x < y) {\n            return 1;\n          }\n\n          if (x > y) {\n            return -1;\n          }\n\n          return 0;\n        }\n\n        if (!this.state.ascendingName) {\n          if (x < y) {\n            return -1;\n          }\n\n          if (x > y) {\n            return 1;\n          }\n\n          return 0;\n        }\n      });\n      console.log(customers);\n      let arrow = this.state.ascendingName ? /*#__PURE__*/React.createElement(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 9\n        }\n      }, \"\\u2193\") : /*#__PURE__*/React.createElement(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 9\n        }\n      }, \"\\u2191\");\n      this.setState({\n        filtered: customers,\n        ascendingName: !this.state.ascendingName,\n        nameSortButtonValue: arrow,\n        DOJSortButtonValue: \"Sort\",\n        membershipEndSortButtonValue: \"Sort\",\n        noOfGamesSortButtonValue: \"Sort\"\n      });\n    }\n\n    if (e.target.value === \"DOJ\") {\n      let customers = this.state.filtered;\n      customers.sort((a, b) => {\n        var x = a.dateOfJoin;\n        var y = b.dateOfJoin;\n\n        if (this.state.ascendingDOJ) {\n          if (x < y) {\n            return 1;\n          }\n\n          if (x > y) {\n            return -1;\n          }\n\n          return 0;\n        }\n\n        if (!this.state.ascendingDOJ) {\n          if (x < y) {\n            return -1;\n          }\n\n          if (x > y) {\n            return 1;\n          }\n\n          return 0;\n        }\n      });\n      console.log(customers);\n      let arrow = this.state.ascendingDOJ ? /*#__PURE__*/React.createElement(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 9\n        }\n      }, \"\\u2193\") : /*#__PURE__*/React.createElement(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 9\n        }\n      }, \"\\u2191\");\n      this.setState({\n        filtered: customers,\n        ascendingDOJ: !this.state.ascendingDOJ,\n        DOJSortButtonValue: arrow,\n        nameSortButtonValue: \"Sort\",\n        membershipEndSortButtonValue: \"Sort\",\n        noOfGamesSortButtonValue: \"Sort\"\n      });\n    }\n\n    if (e.target.value === \"Membership\") {\n      let customers = this.state.filtered;\n      customers.sort((a, b) => {\n        var x = a.latestMembership.end;\n        var y = b.latestMembership.end;\n\n        if (this.state.ascendingMembershipEnd) {\n          if (x < y) {\n            return 1;\n          }\n\n          if (x > y) {\n            return -1;\n          }\n\n          return 0;\n        }\n\n        if (!this.state.ascendingMembershipEnd) {\n          if (x < y) {\n            return -1;\n          }\n\n          if (x > y) {\n            return 1;\n          }\n\n          return 0;\n        }\n      });\n      console.log(customers);\n      let arrow = this.state.ascendingMembershipEnd ? /*#__PURE__*/React.createElement(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 227,\n          columnNumber: 9\n        }\n      }, \"\\u2193\") : /*#__PURE__*/React.createElement(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 229,\n          columnNumber: 9\n        }\n      }, \"\\u2191\");\n      this.setState({\n        filtered: customers,\n        ascendingMembershipEnd: !this.state.ascendingMembershipEnd,\n        membershipEndSortButtonValue: arrow,\n        nameSortButtonValue: \"Sort\",\n        DOJSortButtonValue: \"Sort\",\n        noOfGamesSortButtonValue: \"Sort\"\n      });\n    }\n\n    if (e.target.value === \"No Of Games\") {\n      let customers = this.state.filtered;\n      customers.sort((a, b) => {\n        var x = a.noOfGames;\n        var y = b.noOfGames;\n\n        if (this.state.ascendingNoOfGames) {\n          if (x < y) {\n            return 1;\n          }\n\n          if (x > y) {\n            return -1;\n          }\n\n          return 0;\n        }\n\n        if (!this.state.ascendingNoOfGames) {\n          if (x < y) {\n            return -1;\n          }\n\n          if (x > y) {\n            return 1;\n          }\n\n          return 0;\n        }\n      });\n      console.log(customers);\n      let arrow = this.state.ascendingNoOfGames ? /*#__PURE__*/React.createElement(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 266,\n          columnNumber: 9\n        }\n      }, \"\\u2193\") : /*#__PURE__*/React.createElement(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 268,\n          columnNumber: 9\n        }\n      }, \"\\u2191\");\n      this.setState({\n        filtered: customers,\n        ascendingNoOfGames: !this.state.ascendingNoOfGames,\n        noOfGamesSortButtonValue: arrow,\n        nameSortButtonValue: \"Sort\",\n        DOJSortButtonValue: \"Sort\",\n        membershipEndSortButtonValue: \"Sort\"\n      });\n    }\n  }\n\n  render() {\n    console.log(this.state.filtered);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 284,\n        columnNumber: 7\n      }\n    }, this.renderRedirect(), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"button\",\n      className: \"btn btn-primary\",\n      value: \"Add Customer\",\n      onClick: this.setRedirect,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 286,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      placeholder: \"Search...\",\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 292,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"table-responsive-sm\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 298,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"table\", {\n      className: \"table\",\n      style: {\n        marginTop: 0\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 299,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"thead\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 300,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 301,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      style: {\n        paddingBottom: \"1.3%\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 302,\n        columnNumber: 17\n      }\n    }, \"Sr\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 303,\n        columnNumber: 17\n      }\n    }, \"Name\", /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-primary\",\n      value: \"Name\",\n      onClick: this.onClickForSort,\n      style: {\n        \"margin-left\": \"5%\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 305,\n        columnNumber: 19\n      }\n    }, this.state.nameSortButtonValue)), /*#__PURE__*/React.createElement(\"th\", {\n      style: {\n        paddingBottom: \"1.3%\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 314,\n        columnNumber: 17\n      }\n    }, \"Email-ID\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 315,\n        columnNumber: 17\n      }\n    }, \"Date Of Joining\", /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-primary\",\n      value: \"DOJ\",\n      onClick: this.onClickForSort,\n      style: {\n        \"margin-left\": \"5%\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 317,\n        columnNumber: 19\n      }\n    }, this.state.DOJSortButtonValue)), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 326,\n        columnNumber: 17\n      }\n    }, \"Membership Expiry\", /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-primary\",\n      value: \"Membership\",\n      onClick: this.onClickForSort,\n      style: {\n        \"margin-left\": \"5%\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 328,\n        columnNumber: 19\n      }\n    }, this.state.membershipEndSortButtonValue)), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 338,\n        columnNumber: 17\n      }\n    }, \"NoOfGames\", /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-primary\",\n      value: \"No Of Games\",\n      onClick: this.onClickForSort,\n      style: {\n        \"margin-left\": \"5%\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 340,\n        columnNumber: 19\n      }\n    }, this.state.noOfGamesSortButtonValue)))), /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 351,\n        columnNumber: 13\n      }\n    }, this.state.customers_loaded ? this.state.filtered.map((filter, index) => /*#__PURE__*/React.createElement(Customer, {\n      mode: \"customers\",\n      id: filter._id,\n      sr: index + 1,\n      name: filter.name,\n      email: filter.email,\n      noOfGames: filter.noOfGames,\n      dateOfJoin: this.convertDate(filter.dateOfJoin),\n      dateOfMembershipEnd: filter.latestMembership.active ? this.convertDate(filter.latestMembership.end) : \"Expired Membership\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 354,\n        columnNumber: 19\n      }\n    })) : /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 370,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      colSpan: \"6\",\n      style: {\n        position: \"relative\",\n        top: \"50%\",\n        left: \"50%\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 371,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(LoadingSpinner, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 375,\n        columnNumber: 21\n      }\n    })))))));\n  }\n\n}\n\nexport default Customers;","map":{"version":3,"sources":["C:/Prayuj Folders/Game-Renting-Service/frontend/src/components/customers.js"],"names":["React","Component","Customer","axios","Redirect","LoadingSpinner","Customers","constructor","props","setRedirect","setState","redirect","renderRedirect","state","customers","search","filtered","ascendingName","ascendingDOJ","ascendingMembershipEnd","ascendingNoOfGames","nameSortButtonValue","DOJSortButtonValue","membershipEndSortButtonValue","noOfGamesSortButtonValue","customers_loaded","getCustomers","bind","handleChange","onClickForSort","componentDidMount","get","then","res","data","convertDate","dates","date","Date","dd","String","getDate","padStart","mm","getMonth","yyyy","getFullYear","today","e","currentList","newList","target","value","firstList","secondList","filter","customer","lc","name","toLowerCase","includes","i","length","flag","j","JSON","stringify","push","console","log","sort","a","b","x","y","arrow","dateOfJoin","latestMembership","end","noOfGames","render","marginTop","paddingBottom","map","index","_id","email","active","position","top","left"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport Customer from \"./customer\";\r\nimport axios from \"axios\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport LoadingSpinner from \"./loadingSpinner\";\r\n\r\nclass Customers extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      customers: [],\r\n      search: \"\",\r\n      filtered: [],\r\n      ascendingName: true,\r\n      ascendingDOJ: true,\r\n      ascendingMembershipEnd: true,\r\n      ascendingNoOfGames: true,\r\n      nameSortButtonValue: \"Sort\",\r\n      DOJSortButtonValue: \"Sort\",\r\n      membershipEndSortButtonValue: <span>&darr;</span>,\r\n      noOfGamesSortButtonValue: \"Sort\",\r\n      customers_loaded: false,\r\n    };\r\n    this.getCustomers = this.getCustomers.bind(this);\r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.onClickForSort = this.onClickForSort.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.getCustomers();\r\n  }\r\n\r\n  getCustomers() {\r\n    axios.get(\"https://prayuj-gamerent.herokuapp.com/customer/\").then((res) => {\r\n      this.setState({\r\n        customers: res.data,\r\n        filtered: res.data,\r\n        customers_loaded: true,\r\n      });\r\n    });\r\n  }\r\n\r\n  convertDate(dates) {\r\n    var date = new Date(dates);\r\n    var dd = String(date.getDate()).padStart(2, \"0\");\r\n    var mm = String(date.getMonth() + 1).padStart(2, \"0\"); //January is 0!\r\n    var yyyy = date.getFullYear();\r\n    var today = dd + \"/\" + mm + \"/\" + yyyy;\r\n    return today;\r\n  }\r\n\r\n  setRedirect = () => {\r\n    this.setState({\r\n      redirect: true,\r\n    });\r\n  };\r\n\r\n  renderRedirect = () => {\r\n    if (this.state.redirect) {\r\n      return <Redirect push to={\"/add_customer/\"} />;\r\n    }\r\n  };\r\n\r\n  handleChange(e) {\r\n    // Variable to hold the original version of the list\r\n    let currentList = [];\r\n    // Variable to hold the filtered list before putting into state\r\n    let newList = [];\r\n\r\n    // If the search bar isn't empty\r\n    if (e.target.value !== \"\") {\r\n      //console.log(\"HERE 1\");\r\n      // Assign the original list to currentList\r\n      currentList = this.state.customers;\r\n      let firstList = [];\r\n      let secondList = [];\r\n\r\n      // Use .filter() to determine which items should be displayed\r\n      // based on the search terms\r\n      firstList = currentList.filter((customer) => {\r\n        // change current item to lowercase\r\n        const lc = customer.name.toLowerCase();\r\n        // change search term to lowercase\r\n        const filter = e.target.value.toLowerCase();\r\n        // check to see if the current list item includes the search term\r\n        // If it does, it will be added to newList. Using lowercase eliminates\r\n        // issues with capitalization in search terms and search content\r\n        return lc.includes(filter);\r\n      });\r\n      secondList = currentList.filter((customer) => {\r\n        // change current item to lowercase\r\n        const lc = customer.name.toLowerCase();\r\n        // change search term to lowercase\r\n        const filter = e.target.value.toLowerCase();\r\n        // check to see if the current list item includes the search term\r\n        // If it does, it will be added to newList. Using lowercase eliminates\r\n        // issues with capitalization in search terms and search content\r\n        return lc.includes(filter);\r\n      });\r\n      for (let i = 0; i < secondList.length; i++) {\r\n        let flag = true;\r\n        for (let j = 0; j < firstList.length; j++) {\r\n          if (JSON.stringify(secondList[i]) === JSON.stringify(firstList[j]))\r\n            flag = false;\r\n        }\r\n        if (flag) firstList.push(secondList[i]);\r\n      }\r\n      newList = firstList;\r\n      //console.log(newList);\r\n    } else {\r\n      console.log(\"HERE 2\");\r\n      // If the search bar is empty, set newList to original task list\r\n      newList = this.state.customers;\r\n    }\r\n    // Set the filtered state based on what our rules added to newList\r\n    this.setState({\r\n      filtered: newList,\r\n    });\r\n  }\r\n\r\n  onClickForSort(e) {\r\n    console.log(e.target.value);\r\n    if (e.target.value === \"Name\") {\r\n      let customers = this.state.filtered;\r\n      customers.sort((a, b) => {\r\n        var x = a.name.toLowerCase();\r\n        var y = b.name.toLowerCase();\r\n        if (this.state.ascendingName) {\r\n          if (x < y) {\r\n            return 1;\r\n          }\r\n          if (x > y) {\r\n            return -1;\r\n          }\r\n          return 0;\r\n        }\r\n        if (!this.state.ascendingName) {\r\n          if (x < y) {\r\n            return -1;\r\n          }\r\n          if (x > y) {\r\n            return 1;\r\n          }\r\n          return 0;\r\n        }\r\n      });\r\n      console.log(customers);\r\n      let arrow = this.state.ascendingName ? (\r\n        <span>&darr;</span>\r\n      ) : (\r\n        <span>&uarr;</span>\r\n      );\r\n      this.setState({\r\n        filtered: customers,\r\n        ascendingName: !this.state.ascendingName,\r\n        nameSortButtonValue: arrow,\r\n        DOJSortButtonValue: \"Sort\",\r\n        membershipEndSortButtonValue: \"Sort\",\r\n        noOfGamesSortButtonValue: \"Sort\",\r\n      });\r\n    }\r\n    if (e.target.value === \"DOJ\") {\r\n      let customers = this.state.filtered;\r\n      customers.sort((a, b) => {\r\n        var x = a.dateOfJoin;\r\n        var y = b.dateOfJoin;\r\n        if (this.state.ascendingDOJ) {\r\n          if (x < y) {\r\n            return 1;\r\n          }\r\n          if (x > y) {\r\n            return -1;\r\n          }\r\n          return 0;\r\n        }\r\n        if (!this.state.ascendingDOJ) {\r\n          if (x < y) {\r\n            return -1;\r\n          }\r\n          if (x > y) {\r\n            return 1;\r\n          }\r\n          return 0;\r\n        }\r\n      });\r\n      console.log(customers);\r\n      let arrow = this.state.ascendingDOJ ? (\r\n        <span>&darr;</span>\r\n      ) : (\r\n        <span>&uarr;</span>\r\n      );\r\n      this.setState({\r\n        filtered: customers,\r\n        ascendingDOJ: !this.state.ascendingDOJ,\r\n        DOJSortButtonValue: arrow,\r\n        nameSortButtonValue: \"Sort\",\r\n        membershipEndSortButtonValue: \"Sort\",\r\n        noOfGamesSortButtonValue: \"Sort\",\r\n      });\r\n    }\r\n    if (e.target.value === \"Membership\") {\r\n      let customers = this.state.filtered;\r\n      customers.sort((a, b) => {\r\n        var x = a.latestMembership.end;\r\n        var y = b.latestMembership.end;\r\n        if (this.state.ascendingMembershipEnd) {\r\n          if (x < y) {\r\n            return 1;\r\n          }\r\n          if (x > y) {\r\n            return -1;\r\n          }\r\n          return 0;\r\n        }\r\n        if (!this.state.ascendingMembershipEnd) {\r\n          if (x < y) {\r\n            return -1;\r\n          }\r\n          if (x > y) {\r\n            return 1;\r\n          }\r\n          return 0;\r\n        }\r\n      });\r\n      console.log(customers);\r\n      let arrow = this.state.ascendingMembershipEnd ? (\r\n        <span>&darr;</span>\r\n      ) : (\r\n        <span>&uarr;</span>\r\n      );\r\n      this.setState({\r\n        filtered: customers,\r\n        ascendingMembershipEnd: !this.state.ascendingMembershipEnd,\r\n        membershipEndSortButtonValue: arrow,\r\n        nameSortButtonValue: \"Sort\",\r\n        DOJSortButtonValue: \"Sort\",\r\n        noOfGamesSortButtonValue: \"Sort\",\r\n      });\r\n    }\r\n    if (e.target.value === \"No Of Games\") {\r\n      let customers = this.state.filtered;\r\n      customers.sort((a, b) => {\r\n        var x = a.noOfGames;\r\n        var y = b.noOfGames;\r\n        if (this.state.ascendingNoOfGames) {\r\n          if (x < y) {\r\n            return 1;\r\n          }\r\n          if (x > y) {\r\n            return -1;\r\n          }\r\n          return 0;\r\n        }\r\n        if (!this.state.ascendingNoOfGames) {\r\n          if (x < y) {\r\n            return -1;\r\n          }\r\n          if (x > y) {\r\n            return 1;\r\n          }\r\n          return 0;\r\n        }\r\n      });\r\n      console.log(customers);\r\n      let arrow = this.state.ascendingNoOfGames ? (\r\n        <span>&darr;</span>\r\n      ) : (\r\n        <span>&uarr;</span>\r\n      );\r\n      this.setState({\r\n        filtered: customers,\r\n        ascendingNoOfGames: !this.state.ascendingNoOfGames,\r\n        noOfGamesSortButtonValue: arrow,\r\n        nameSortButtonValue: \"Sort\",\r\n        DOJSortButtonValue: \"Sort\",\r\n        membershipEndSortButtonValue: \"Sort\",\r\n      });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    console.log(this.state.filtered);\r\n    return (\r\n      <div>\r\n        {this.renderRedirect()}\r\n        <input\r\n          type=\"button\"\r\n          className=\"btn btn-primary\"\r\n          value=\"Add Customer\"\r\n          onClick={this.setRedirect}\r\n        />\r\n        <input\r\n          type=\"text\"\r\n          className=\"form-control\"\r\n          placeholder=\"Search...\"\r\n          onChange={this.handleChange}\r\n        />\r\n        <div className=\"table-responsive-sm\">\r\n          <table className=\"table\" style={{ marginTop: 0 }}>\r\n            <thead>\r\n              <tr>\r\n                <th style={{ paddingBottom: \"1.3%\" }}>Sr</th>\r\n                <th>\r\n                  Name\r\n                  <button\r\n                    className=\"btn btn-primary\"\r\n                    value=\"Name\"\r\n                    onClick={this.onClickForSort}\r\n                    style={{ \"margin-left\": \"5%\" }}\r\n                  >\r\n                    {this.state.nameSortButtonValue}\r\n                  </button>\r\n                </th>\r\n                <th style={{ paddingBottom: \"1.3%\" }}>Email-ID</th>\r\n                <th>\r\n                  Date Of Joining\r\n                  <button\r\n                    className=\"btn btn-primary\"\r\n                    value=\"DOJ\"\r\n                    onClick={this.onClickForSort}\r\n                    style={{ \"margin-left\": \"5%\" }}\r\n                  >\r\n                    {this.state.DOJSortButtonValue}\r\n                  </button>\r\n                </th>\r\n                <th>\r\n                  Membership Expiry\r\n                  <button\r\n                    className=\"btn btn-primary\"\r\n                    value=\"Membership\"\r\n                    onClick={this.onClickForSort}\r\n                    style={{ \"margin-left\": \"5%\" }}\r\n                  >\r\n                    {this.state.membershipEndSortButtonValue}\r\n                  </button>\r\n                </th>\r\n\r\n                <th>\r\n                  NoOfGames\r\n                  <button\r\n                    className=\"btn btn-primary\"\r\n                    value=\"No Of Games\"\r\n                    onClick={this.onClickForSort}\r\n                    style={{ \"margin-left\": \"5%\" }}\r\n                  >\r\n                    {this.state.noOfGamesSortButtonValue}\r\n                  </button>\r\n                </th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {this.state.customers_loaded ? (\r\n                this.state.filtered.map((filter, index) => (\r\n                  <Customer\r\n                    mode=\"customers\"\r\n                    id={filter._id}\r\n                    sr={index + 1}\r\n                    name={filter.name}\r\n                    email={filter.email}\r\n                    noOfGames={filter.noOfGames}\r\n                    dateOfJoin={this.convertDate(filter.dateOfJoin)}\r\n                    dateOfMembershipEnd={\r\n                      filter.latestMembership.active\r\n                        ? this.convertDate(filter.latestMembership.end)\r\n                        : \"Expired Membership\"\r\n                    }\r\n                  />\r\n                ))\r\n              ) : (\r\n                <tr>\r\n                  <td\r\n                    colSpan=\"6\"\r\n                    style={{ position: \"relative\", top: \"50%\", left: \"50%\" }}\r\n                  >\r\n                    <LoadingSpinner></LoadingSpinner>\r\n                  </td>\r\n                </tr>\r\n              )}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Customers;\r\n"]},"metadata":{},"sourceType":"module"}