{"ast":null,"code":"var _jsxFileName = \"C:\\\\Prayuj Folders\\\\Game-Renting-Service\\\\frontend\\\\src\\\\components\\\\addCustomer.js\";\nimport React, { Component } from \"react\";\nimport CustomerForm from \"./customerForm\";\nimport axios from \"axios\";\n\nclass AddCustomer extends Component {\n  constructor(props) {\n    super(props);\n    this.handleForm = this.handleForm.bind(this);\n  }\n\n  handleForm(e) {\n    e.preventDefault();\n    let today = new Date();\n    let dd = today.getDate();\n    let mm = today.getMonth();\n    let yyyy = today.getFullYear();\n    console.log(e.target.name.value, e.target.email.value, e.target.address1.value, e.target.address2.value, e.target.inputCity.value, e.target.inputZip.value, e.target.mobileNo1.value, e.target.mobileNo2.value, e.target.plan.value);\n    let endDate;\n    let plan;\n\n    if (e.target.plan.value === \"3 months, 1 game/month\") {\n      endDate = new Date(yyyy, mm + 3, dd);\n      plan = \"3M1G\";\n    } else if (e.target.plan.value === \"6 months, 2 games/month\") {\n      endDate = new Date(yyyy, mm + 6, dd);\n      plan = \"6M2G\";\n    } else if (e.target.plan.value === \"1 year, 4 games/month\") {\n      endDate = new Date(yyyy + 1, mm, dd);\n      plan = \"1Y4G\";\n    }\n\n    let customer = {\n      name: e.target.name.value,\n      email: e.target.email.value,\n      address: e.target.address1.value,\n      address2: e.target.address2.value,\n      city: e.target.inputCity.value,\n      zip: e.target.inputZip.value,\n      mobile_no: e.target.mobileNo1.value,\n      alt_mobile_no: e.target.mobileNo1.value,\n      dateOfJoin: today,\n      membership: [{\n        plan: plan,\n        start: today,\n        end: endDate,\n        active: true\n      }]\n    };\n    console.log(customer);\n    axios.post(\"http://localhost:4000/customer/add\", customer).then(res => {\n      console.log(res.data);\n    }).catch(err => {\n      console.log(err);\n      this.setState({\n        status: \"An Error has occured, check console log.\"\n      });\n    });\n  }\n\n  render() {\n    return React.createElement(CustomerForm, {\n      mode: \"add\",\n      onSubmit: this.handleForm,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    });\n  }\n\n}\n\nexport default AddCustomer;","map":{"version":3,"sources":["C:\\Prayuj Folders\\Game-Renting-Service\\frontend\\src\\components\\addCustomer.js"],"names":["React","Component","CustomerForm","axios","AddCustomer","constructor","props","handleForm","bind","e","preventDefault","today","Date","dd","getDate","mm","getMonth","yyyy","getFullYear","console","log","target","name","value","email","address1","address2","inputCity","inputZip","mobileNo1","mobileNo2","plan","endDate","customer","address","city","zip","mobile_no","alt_mobile_no","dateOfJoin","membership","start","end","active","post","then","res","data","catch","err","setState","status","render"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport CustomerForm from \"./customerForm\";\r\nimport axios from \"axios\";\r\n\r\nclass AddCustomer extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.handleForm = this.handleForm.bind(this);\r\n  }\r\n\r\n  handleForm(e) {\r\n    e.preventDefault();\r\n    let today = new Date();\r\n    let dd = today.getDate();\r\n    let mm = today.getMonth();\r\n    let yyyy = today.getFullYear();\r\n\r\n    console.log(\r\n      e.target.name.value,\r\n      e.target.email.value,\r\n      e.target.address1.value,\r\n      e.target.address2.value,\r\n      e.target.inputCity.value,\r\n      e.target.inputZip.value,\r\n      e.target.mobileNo1.value,\r\n      e.target.mobileNo2.value,\r\n      e.target.plan.value\r\n    );\r\n    let endDate;\r\n    let plan;\r\n    if (e.target.plan.value === \"3 months, 1 game/month\") {\r\n      endDate = new Date(yyyy, mm + 3, dd);\r\n      plan = \"3M1G\";\r\n    } else if (e.target.plan.value === \"6 months, 2 games/month\") {\r\n      endDate = new Date(yyyy, mm + 6, dd);\r\n      plan = \"6M2G\";\r\n    } else if (e.target.plan.value === \"1 year, 4 games/month\") {\r\n      endDate = new Date(yyyy + 1, mm, dd);\r\n      plan = \"1Y4G\";\r\n    }\r\n\r\n    let customer = {\r\n      name: e.target.name.value,\r\n      email: e.target.email.value,\r\n      address: e.target.address1.value,\r\n      address2: e.target.address2.value,\r\n      city: e.target.inputCity.value,\r\n      zip: e.target.inputZip.value,\r\n      mobile_no: e.target.mobileNo1.value,\r\n      alt_mobile_no: e.target.mobileNo1.value,\r\n      dateOfJoin: today,\r\n      membership: [{ plan: plan, start: today, end: endDate, active: true }]\r\n    };\r\n    console.log(customer);\r\n\r\n    axios\r\n      .post(\"http://localhost:4000/customer/add\", customer)\r\n      .then(res => {\r\n        console.log(res.data);\r\n      })\r\n      .catch(err => {\r\n        console.log(err);\r\n        this.setState({\r\n          status: \"An Error has occured, check console log.\"\r\n        });\r\n      });\r\n  }\r\n  render() {\r\n    return <CustomerForm mode=\"add\" onSubmit={this.handleForm} />;\r\n  }\r\n}\r\n\r\nexport default AddCustomer;\r\n"]},"metadata":{},"sourceType":"module"}