{"ast":null,"code":"var _jsxFileName = \"C:\\\\Prayuj Folders\\\\Game-Renting-Service\\\\frontend\\\\src\\\\components\\\\addCustomer.js\";\nimport React, { Component } from \"react\";\nimport CustomerForm from \"./customerForm\";\nimport axios from \"axios\";\n\nclass AddCustomer extends Component {\n  constructor(props) {\n    super(props);\n    this.handleForm = this.handleForm.bind(this);\n  }\n\n  handleForm(e) {\n    e.preventDefault();\n    let today = new Date();\n    let dd = today.getDate();\n    let mm = today.getMonth();\n    let yyyy = today.getFullYear();\n    console.log(e.target.name.value, e.target.email.value, e.target.address1.value, e.target.address2.value, e.target.inputCity.value, e.target.inputZip.value, e.target.mobileNo1.value, e.target.mobileNo2.value, e.target.plan.value, dateOfJoin);\n    let endDate;\n    if (e.target.plan.value === \"3 months, 1 game/month\") endDate = new Date(yyyy, mm + 3, dd);else if (e.target.plan.value === \"6 months, 2 games/month\") endDate = new Date(yyyy, mm + 6, dd);else e.target.plan.value === \"1 year, 4 games/month\";\n    endDate = new Data(yyyy + 1, mm, dd);\n    let customer = {\n      name: e.target.name.value,\n      email: e.target.email.value,\n      address: e.target.address1.value,\n      address2: e.target.address2.value,\n      city: e.target.inputCity.value,\n      zip: e.target.inputZip.value,\n      mobile_no: e.target.mobileNo1.value,\n      alt_mobile_no: e.target.mobileNo1.value,\n      dateOfJoin: today,\n      membership: [{\n        start: today,\n        end: endDate,\n        active: true\n      }]\n    };\n    axios.post(\"http://localhost:4000/customer/add\", customer).then(res => {\n      console.log(res.data.cust);\n    }).catch(err => {\n      console.log(err);\n      this.setState({\n        status: \"An Error has occured, check console log.\"\n      });\n    });\n  }\n\n  render() {\n    return React.createElement(CustomerForm, {\n      mode: \"add\",\n      onSubmit: this.handleForm,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    });\n  }\n\n}\n\nexport default AddCustomer;","map":{"version":3,"sources":["C:\\Prayuj Folders\\Game-Renting-Service\\frontend\\src\\components\\addCustomer.js"],"names":["React","Component","CustomerForm","axios","AddCustomer","constructor","props","handleForm","bind","e","preventDefault","today","Date","dd","getDate","mm","getMonth","yyyy","getFullYear","console","log","target","name","value","email","address1","address2","inputCity","inputZip","mobileNo1","mobileNo2","plan","dateOfJoin","endDate","Data","customer","address","city","zip","mobile_no","alt_mobile_no","membership","start","end","active","post","then","res","data","cust","catch","err","setState","status","render"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport CustomerForm from \"./customerForm\";\r\nimport axios from \"axios\";\r\n\r\nclass AddCustomer extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.handleForm = this.handleForm.bind(this);\r\n  }\r\n\r\n  handleForm(e) {\r\n    e.preventDefault();\r\n    let today = new Date();\r\n    let dd = today.getDate();\r\n    let mm = today.getMonth();\r\n    let yyyy = today.getFullYear();\r\n\r\n    console.log(\r\n      e.target.name.value,\r\n      e.target.email.value,\r\n      e.target.address1.value,\r\n      e.target.address2.value,\r\n      e.target.inputCity.value,\r\n      e.target.inputZip.value,\r\n      e.target.mobileNo1.value,\r\n      e.target.mobileNo2.value,\r\n      e.target.plan.value,\r\n      dateOfJoin\r\n    );\r\n    let endDate;\r\n    if (e.target.plan.value === \"3 months, 1 game/month\")\r\n      endDate = new Date(yyyy, mm + 3, dd);\r\n    else if (e.target.plan.value === \"6 months, 2 games/month\")\r\n      endDate = new Date(yyyy, mm + 6, dd);\r\n    else e.target.plan.value === \"1 year, 4 games/month\";\r\n    endDate = new Data(yyyy + 1, mm, dd);\r\n\r\n    let customer = {\r\n      name: e.target.name.value,\r\n      email: e.target.email.value,\r\n      address: e.target.address1.value,\r\n      address2: e.target.address2.value,\r\n      city: e.target.inputCity.value,\r\n      zip: e.target.inputZip.value,\r\n      mobile_no: e.target.mobileNo1.value,\r\n      alt_mobile_no: e.target.mobileNo1.value,\r\n      dateOfJoin: today,\r\n      membership: [\r\n        {\r\n          start: today,\r\n          end: endDate,\r\n          active: true\r\n        }\r\n      ]\r\n    };\r\n\r\n    axios\r\n      .post(\"http://localhost:4000/customer/add\", customer)\r\n      .then(res => {\r\n        console.log(res.data.cust);\r\n      })\r\n      .catch(err => {\r\n        console.log(err);\r\n        this.setState({\r\n          status: \"An Error has occured, check console log.\"\r\n        });\r\n      });\r\n  }\r\n  render() {\r\n    return <CustomerForm mode=\"add\" onSubmit={this.handleForm} />;\r\n  }\r\n}\r\n\r\nexport default AddCustomer;\r\n"]},"metadata":{},"sourceType":"module"}