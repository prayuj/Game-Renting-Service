{"ast":null,"code":"import _classCallCheck from\"C:\\\\Prayuj Folders\\\\Game-Renting-Service\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Prayuj Folders\\\\Game-Renting-Service\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _assertThisInitialized from\"C:\\\\Prayuj Folders\\\\Game-Renting-Service\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:\\\\Prayuj Folders\\\\Game-Renting-Service\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Prayuj Folders\\\\Game-Renting-Service\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import CustomerForm from\"./customerForm\";import axios from\"axios\";import{Redirect}from\"react-router-dom\";var UpdateCustomer=/*#__PURE__*/function(_Component){_inherits(UpdateCustomer,_Component);var _super=_createSuper(UpdateCustomer);function UpdateCustomer(props){var _this;_classCallCheck(this,UpdateCustomer);_this=_super.call(this,props);_this.setRedirect=function(){console.log(\"Test\");_this.setState({redirect:true});};_this.renderRedirect=function(){if(_this.state.redirect){return/*#__PURE__*/React.createElement(Redirect,{push:true,to:\"/customer/\"+_this.state.id});}};_this.state={id:props.match.params.id,name:\"\",email:\"\",address:\"\",address2:\"\",city:\"\",zip:\"\",mobile_no:\"\",alt_mobile_no:\"\",membership:[]};_this.handleForm=_this.handleForm.bind(_assertThisInitialized(_this));return _this;}_createClass(UpdateCustomer,[{key:\"componentDidMount\",value:function componentDidMount(){this.getData();}},{key:\"getData\",value:function getData(){var _this2=this;axios.get(\"https://prayuj-gamerent.herokuapp.com/customer/\"+this.state.id).then(function(res){_this2.setState({name:res.data.name,email:res.data.email,address:res.data.address,address2:res.data.address2,city:res.data.city,zip:res.data.zip,mobile_no:res.data.mobile_no,alt_mobile_no:res.data.alt_mobile_no,membership:res.data.membership});console.log(res.data);});}},{key:\"handleForm\",value:function handleForm(e){var _this3=this;e.preventDefault();console.log(e.target.name.value,e.target.email.value,e.target.address1.value,e.target.address2.value,e.target.inputCity.value,e.target.inputZip.value,e.target.mobileNo1.value,e.target.mobileNo2.value);// let endDate;\n// let plan;\n// if (e.target.plan.value === \"3 months, 1 game/month\") {\n//   endDate = new Date(yyyy, mm + 3, dd);\n//   plan = \"3M1G\";\n// } else if (e.target.plan.value === \"6 months, 2 games/month\") {\n//   endDate = new Date(yyyy, mm + 6, dd);\n//   plan = \"6M2G\";\n// } else if (e.target.plan.value === \"1 year, 4 games/month\") {\n//   endDate = new Date(yyyy + 1, mm, dd);\n//   plan = \"1Y4G\";\n// }\nvar customer={id:this.state.id,name:e.target.name.value,email:e.target.email.value,address:e.target.address1.value,address2:e.target.address2.value,city:e.target.inputCity.value,zip:e.target.inputZip.value,mobile_no:e.target.mobileNo1.value,alt_mobile_no:e.target.mobileNo1.value};axios.post(\"https://prayuj-gamerent.herokuapp.com/customer/update/\"+this.state.id,customer).then(function(res){console.log(res.data);_this3.setRedirect();}).catch(function(err){console.log(err);});// console.log(customer);\n}},{key:\"render\",value:function render(){console.log(this.state.id);return/*#__PURE__*/React.createElement(\"div\",null,this.renderRedirect(),/*#__PURE__*/React.createElement(CustomerForm,{mode:\"edit\",onSubmit:this.handleForm,name:this.state.name,email:this.state.email,address:this.state.address,address2:this.state.address2,city:this.state.city,zip:this.state.zip,mobile_no:this.state.mobile_no,alt_mobile_no:this.state.alt_mobile_no}));}}]);return UpdateCustomer;}(Component);// mode: \"Update this Customer\",\n//         name: props.name,\n//         email: props.email,\n//         address: props.address,\n//         address2: props.address2,\n//         city: props.city,\n//         zip: props.zip,\n//         mobile_no: props.mobile_no,\n//         alt_mobile_no: props.alt_mobile_no,\n//         show: false\nexport default UpdateCustomer;","map":{"version":3,"sources":["C:/Prayuj Folders/Game-Renting-Service/frontend/src/components/updateCustomer.js"],"names":["React","Component","CustomerForm","axios","Redirect","UpdateCustomer","props","setRedirect","console","log","setState","redirect","renderRedirect","state","id","match","params","name","email","address","address2","city","zip","mobile_no","alt_mobile_no","membership","handleForm","bind","getData","get","then","res","data","e","preventDefault","target","value","address1","inputCity","inputZip","mobileNo1","mobileNo2","customer","post","catch","err"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport CustomerForm from \"./customerForm\";\r\nimport axios from \"axios\";\r\nimport { Redirect } from \"react-router-dom\";\r\n\r\nclass UpdateCustomer extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      id: props.match.params.id,\r\n      name: \"\",\r\n      email: \"\",\r\n      address: \"\",\r\n      address2: \"\",\r\n      city: \"\",\r\n      zip: \"\",\r\n      mobile_no: \"\",\r\n      alt_mobile_no: \"\",\r\n      membership: [],\r\n    };\r\n    this.handleForm = this.handleForm.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.getData();\r\n  }\r\n\r\n  getData() {\r\n    axios\r\n      .get(\"https://prayuj-gamerent.herokuapp.com/customer/\" + this.state.id)\r\n      .then((res) => {\r\n        this.setState({\r\n          name: res.data.name,\r\n          email: res.data.email,\r\n          address: res.data.address,\r\n          address2: res.data.address2,\r\n          city: res.data.city,\r\n          zip: res.data.zip,\r\n          mobile_no: res.data.mobile_no,\r\n          alt_mobile_no: res.data.alt_mobile_no,\r\n          membership: res.data.membership,\r\n        });\r\n        console.log(res.data);\r\n      });\r\n  }\r\n\r\n  handleForm(e) {\r\n    e.preventDefault();\r\n    console.log(\r\n      e.target.name.value,\r\n      e.target.email.value,\r\n      e.target.address1.value,\r\n      e.target.address2.value,\r\n      e.target.inputCity.value,\r\n      e.target.inputZip.value,\r\n      e.target.mobileNo1.value,\r\n      e.target.mobileNo2.value\r\n    );\r\n    // let endDate;\r\n    // let plan;\r\n    // if (e.target.plan.value === \"3 months, 1 game/month\") {\r\n    //   endDate = new Date(yyyy, mm + 3, dd);\r\n    //   plan = \"3M1G\";\r\n    // } else if (e.target.plan.value === \"6 months, 2 games/month\") {\r\n    //   endDate = new Date(yyyy, mm + 6, dd);\r\n    //   plan = \"6M2G\";\r\n    // } else if (e.target.plan.value === \"1 year, 4 games/month\") {\r\n    //   endDate = new Date(yyyy + 1, mm, dd);\r\n    //   plan = \"1Y4G\";\r\n    // }\r\n    let customer = {\r\n      id: this.state.id,\r\n      name: e.target.name.value,\r\n      email: e.target.email.value,\r\n      address: e.target.address1.value,\r\n      address2: e.target.address2.value,\r\n      city: e.target.inputCity.value,\r\n      zip: e.target.inputZip.value,\r\n      mobile_no: e.target.mobileNo1.value,\r\n      alt_mobile_no: e.target.mobileNo1.value,\r\n    };\r\n\r\n    axios\r\n      .post(\r\n        \"https://prayuj-gamerent.herokuapp.com/customer/update/\" +\r\n          this.state.id,\r\n        customer\r\n      )\r\n      .then((res) => {\r\n        console.log(res.data);\r\n        this.setRedirect();\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n    // console.log(customer);\r\n  }\r\n\r\n  setRedirect = () => {\r\n    console.log(\"Test\");\r\n    this.setState({\r\n      redirect: true,\r\n    });\r\n  };\r\n\r\n  renderRedirect = () => {\r\n    if (this.state.redirect) {\r\n      return <Redirect push to={\"/customer/\" + this.state.id} />;\r\n    }\r\n  };\r\n  render() {\r\n    console.log(this.state.id);\r\n    return (\r\n      <div>\r\n        {this.renderRedirect()}\r\n        <CustomerForm\r\n          mode=\"edit\"\r\n          onSubmit={this.handleForm}\r\n          name={this.state.name}\r\n          email={this.state.email}\r\n          address={this.state.address}\r\n          address2={this.state.address2}\r\n          city={this.state.city}\r\n          zip={this.state.zip}\r\n          mobile_no={this.state.mobile_no}\r\n          alt_mobile_no={this.state.alt_mobile_no}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n// mode: \"Update this Customer\",\r\n//         name: props.name,\r\n//         email: props.email,\r\n//         address: props.address,\r\n//         address2: props.address2,\r\n//         city: props.city,\r\n//         zip: props.zip,\r\n//         mobile_no: props.mobile_no,\r\n//         alt_mobile_no: props.alt_mobile_no,\r\n//         show: false\r\n\r\nexport default UpdateCustomer;\r\n"]},"metadata":{},"sourceType":"module"}