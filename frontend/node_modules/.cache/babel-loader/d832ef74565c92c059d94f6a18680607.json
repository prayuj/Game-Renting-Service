{"ast":null,"code":"import _defineProperty from\"C:\\\\Prayuj Folders\\\\Game-Renting-Service\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _classCallCheck from\"C:\\\\Prayuj Folders\\\\Game-Renting-Service\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Prayuj Folders\\\\Game-Renting-Service\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _assertThisInitialized from\"C:\\\\Prayuj Folders\\\\Game-Renting-Service\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:\\\\Prayuj Folders\\\\Game-Renting-Service\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Prayuj Folders\\\\Game-Renting-Service\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import{Button,FormGroup,FormControl,FormLabel}from\"react-bootstrap\";import axios from\"axios\";import{Redirect}from\"react-router-dom\";var Login=/*#__PURE__*/function(_Component){_inherits(Login,_Component);var _super=_createSuper(Login);function Login(props){var _this;_classCallCheck(this,Login);_this=_super.call(this,props);_this.handleChange=function(event){_this.setState(_defineProperty({},event.target.id,event.target.value));};_this.renderRedirect=function(){if(_this.state.redirect){return/*#__PURE__*/React.createElement(Redirect,{push:true,to:\"/\"});}};localStorage.removeItem(\"isLoggedIn\");_this.state={email:\"\",password:\"\",redirect:false};_this.handleLogin=_this.handleLogin.bind(_assertThisInitialized(_this));return _this;}_createClass(Login,[{key:\"validateForm\",value:function validateForm(){return this.state.email.length>0&&this.state.password.length>0;}},{key:\"handleLogin\",value:function handleLogin(e){var _this2=this;e.preventDefault();axios.post(\"https://prayuj-gamerent.herokuapp.com/login/\",{email:e.target.email.value,password:e.target.password.value}).then(function(res){if(!res.data.isLoggedIn){alert(\"Wrong Password\");}else{localStorage.setItem(\"isLoggedIn\",res.data.isLoggedIn);_this2.setState({redirect:true});_this2.props.onSubmit();}});}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"div\",{className:\"Login\"},this.renderRedirect(),/*#__PURE__*/React.createElement(\"h1\",{style:{textAlign:\"center\"}},\"Login to Continue\"),/*#__PURE__*/React.createElement(\"form\",{onSubmit:this.handleLogin},/*#__PURE__*/React.createElement(FormGroup,{controlId:\"email\",bsSize:\"large\"},/*#__PURE__*/React.createElement(FormLabel,null,\"Email\"),/*#__PURE__*/React.createElement(FormControl,{autoFocus:true,type:\"email\",value:this.state.email,onChange:this.handleChange})),/*#__PURE__*/React.createElement(FormGroup,{controlId:\"password\",bsSize:\"large\"},/*#__PURE__*/React.createElement(FormLabel,null,\"Password\"),/*#__PURE__*/React.createElement(FormControl,{value:this.state.password,onChange:this.handleChange,type:\"password\"})),/*#__PURE__*/React.createElement(Button,{block:true,bsSize:\"large\",disabled:!this.validateForm(),type:\"submit\"},\"Login\")));}}]);return Login;}(Component);export default Login;","map":{"version":3,"sources":["C:/Prayuj Folders/Game-Renting-Service/frontend/src/components/login.js"],"names":["React","Component","Button","FormGroup","FormControl","FormLabel","axios","Redirect","Login","props","handleChange","event","setState","target","id","value","renderRedirect","state","redirect","localStorage","removeItem","email","password","handleLogin","bind","length","e","preventDefault","post","then","res","data","isLoggedIn","alert","setItem","onSubmit","textAlign","validateForm"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport { Button, FormGroup, FormControl, FormLabel } from \"react-bootstrap\";\r\nimport axios from \"axios\";\r\nimport { Redirect } from \"react-router-dom\";\r\n\r\nclass Login extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    localStorage.removeItem(\"isLoggedIn\");\r\n    this.state = {\r\n      email: \"\",\r\n      password: \"\",\r\n      redirect: false,\r\n    };\r\n\r\n    this.handleLogin = this.handleLogin.bind(this);\r\n  }\r\n  validateForm() {\r\n    return this.state.email.length > 0 && this.state.password.length > 0;\r\n  }\r\n  handleChange = (event) => {\r\n    this.setState({\r\n      [event.target.id]: event.target.value,\r\n    });\r\n  };\r\n  handleLogin(e) {\r\n    e.preventDefault();\r\n    axios\r\n      .post(\"https://prayuj-gamerent.herokuapp.com/login/\", {\r\n        email: e.target.email.value,\r\n        password: e.target.password.value,\r\n      })\r\n      .then((res) => {\r\n        if (!res.data.isLoggedIn) {\r\n          alert(\"Wrong Password\");\r\n        } else {\r\n          localStorage.setItem(\"isLoggedIn\", res.data.isLoggedIn);\r\n          this.setState({\r\n            redirect: true,\r\n          });\r\n          this.props.onSubmit();\r\n        }\r\n      });\r\n  }\r\n\r\n  renderRedirect = () => {\r\n    if (this.state.redirect) {\r\n      return <Redirect push to={\"/\"} />;\r\n    }\r\n  };\r\n  render() {\r\n    return (\r\n      <div className=\"Login\">\r\n        {this.renderRedirect()}\r\n        <h1 style={{ textAlign: \"center\" }}>Login to Continue</h1>\r\n        <form onSubmit={this.handleLogin}>\r\n          <FormGroup controlId=\"email\" bsSize=\"large\">\r\n            <FormLabel>Email</FormLabel>\r\n            <FormControl\r\n              autoFocus\r\n              type=\"email\"\r\n              value={this.state.email}\r\n              onChange={this.handleChange}\r\n            />\r\n          </FormGroup>\r\n          <FormGroup controlId=\"password\" bsSize=\"large\">\r\n            <FormLabel>Password</FormLabel>\r\n            <FormControl\r\n              value={this.state.password}\r\n              onChange={this.handleChange}\r\n              type=\"password\"\r\n            />\r\n          </FormGroup>\r\n          <Button\r\n            block\r\n            bsSize=\"large\"\r\n            disabled={!this.validateForm()}\r\n            type=\"submit\"\r\n          >\r\n            Login\r\n          </Button>\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Login;\r\n"]},"metadata":{},"sourceType":"module"}