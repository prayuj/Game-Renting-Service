{"ast":null,"code":"var _jsxFileName = \"C:\\\\Prayuj Folders\\\\Game-Renting-Service\\\\frontend\\\\src\\\\components\\\\dashboard.js\";\nimport React, { Component } from \"react\";\nimport \"react-dates/initialize\";\nimport \"react-dates/lib/css/_datepicker.css\";\nimport axios from \"axios\";\nimport Customer from \"./customer\";\nimport Game from \"./game\";\nimport loadingSpinner from \"./loadingSpinner\";\nimport LoadingSpinner from \"./loadingSpinner\";\n\nclass Dashboard extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      customers: [],\n      issue_game: [],\n      return_game: [],\n      search: \"\",\n      dateFrom: \"\",\n      dateTo: \"\",\n      CustomersAdded: 0,\n      MembershipEnding: 0,\n      GamesIssued: 0,\n      GamesReturn: 0,\n      message: \"Today\",\n      issue_game_loaded: false,\n      return_game_loaded: false,\n      customers_loaded: false\n    };\n    this.getDetails = this.getDetails.bind(this);\n    this.getCustomers = this.getCustomers.bind(this);\n    this.getIssuedGames = this.getIssuedGames.bind(this);\n    this.getReturnedGames = this.getReturnedGames.bind(this);\n    this.getDashboardDetails = this.getDashboardDetails.bind(this);\n  }\n\n  componentDidMount() {\n    this.getDetails();\n    this.getCustomers();\n    this.getIssuedGames();\n    this.getReturnedGames();\n  }\n\n  getDetails() {\n    axios.get(this.props.url + \"/customer/CustomersAdded/from=\" + this.getToday() + \"&to=\" + this.getToday()).then(res => {\n      this.setState({\n        CustomersAdded: res.data.CustomersAdded\n      });\n    });\n    axios.get(this.props.url + \"/customer/MembershipEnding/from=\" + this.getToday() + \"&to=\" + this.getToday()).then(res => {\n      this.setState({\n        MembershipEnding: res.data.MembershipEnding\n      });\n    });\n    axios.get(this.props.url + \"/game/GamesIssued/from=\" + this.getToday() + \"&to=\" + this.getToday()).then(res => {\n      this.setState({\n        GamesIssued: res.data.GamesIssued\n      });\n    });\n    axios.get(this.props.url + \"/game/GamesReturn/from=\" + this.getToday() + \"&to=\" + this.getToday()).then(res => {\n      this.setState({\n        GamesReturn: res.data.GamesReturn\n      });\n    });\n  }\n\n  getCustomers() {\n    axios.get(this.props.url + \"/customer/dashboard\").then(res => {\n      this.setState({\n        customers: res.data,\n        customers_loaded: true\n      });\n    });\n  }\n\n  getIssuedGames() {\n    axios.get(this.props.url + \"/game/dashboard/issue\").then(res => {\n      console.log(res.data);\n      this.setState({\n        issue_game: res.data,\n        issue_game_loaded: true\n      });\n    });\n  }\n\n  getReturnedGames() {\n    axios.get(this.props.url + \"/game/dashboard/return\").then(res => {\n      console.log(res.data);\n      this.setState({\n        return_game: res.data,\n        return_game_loaded: true\n      });\n    });\n  }\n\n  convertDate(dates) {\n    var date = new Date(dates);\n    var dd = String(date.getDate()).padStart(2, \"0\");\n    var mm = parseInt(date.getMonth()); //January is 0!\n\n    var yyyy = date.getFullYear();\n    var month_names = [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"];\n    var today = dd + \"/\" + month_names[mm] + \"/\" + yyyy;\n    console.log(today);\n    return today;\n  }\n\n  getToday() {\n    var date = new Date();\n    var dd = String(date.getDate()).padStart(2, \"0\");\n    var mm = String(date.getMonth() + 1).padStart(2, \"0\"); //January is 0!\n\n    var yyyy = date.getFullYear();\n    return yyyy + \"-\" + mm + \"-\" + dd;\n  }\n\n  getDashboardDetails(e) {\n    e.preventDefault();\n\n    if (e.target.from.value !== \"\" && e.target.to.value !== \"\") {\n      axios.get(\"https://prayuj-gamerent.herokuapp.com/customer/CustomersAdded/from=\" + e.target.from.value + \"&to=\" + e.target.to.value).then(res => {\n        this.setState({\n          CustomersAdded: res.data.CustomersAdded\n        });\n      });\n      axios.get(\"https://prayuj-gamerent.herokuapp.com/customer/MembershipEnding/from=\" + e.target.from.value + \"&to=\" + e.target.to.value).then(res => {\n        this.setState({\n          MembershipEnding: res.data.MembershipEnding\n        });\n      });\n      axios.get(\"https://prayuj-gamerent.herokuapp.com/game/GamesIssued/from=\" + e.target.from.value + \"&to=\" + e.target.to.value).then(res => {\n        this.setState({\n          GamesIssued: res.data.GamesIssued\n        });\n      });\n      axios.get(\"https://prayuj-gamerent.herokuapp.com/game/GamesReturn/from=\" + e.target.from.value + \"&to=\" + e.target.to.value).then(res => {\n        this.setState({\n          GamesReturn: res.data.GamesReturn\n        });\n      });\n      if (this.state.dateFrom === this.state.dateTo) {\n        if (this.state.dateFrom === this.getToday()) {\n          this.setState({\n            message: \"Today\"\n          });\n        } else {\n          this.setState({\n            message: \"on \" + this.convertDate(this.state.dateTo) + \" \"\n          });\n        }\n      } else this.setState({\n        message: \"from \" + this.convertDate(this.state.dateFrom) + \" to \" + this.convertDate(this.state.dateTo) + \" \"\n      });\n    }\n  }\n\n  render() {\n    let message = \"today\";\n\n    if (this.state.dateFrom != \"\" && this.state.dateTo != \"\") {\n      if (this.state.dateFrom === this.state.dateTo) message = \"on \" + this.convertDate(this.state.dateTo) + \" \";else message = \"from \" + this.convertDate(this.state.dateFrom) + \" to \" + this.convertDate(this.state.dateTo) + \" \";\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 252,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.getDashboardDetails,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 11\n      }\n    }, \"Select Dates\", /*#__PURE__*/React.createElement(\"input\", {\n      name: \"from\",\n      type: \"date\",\n      value: this.state.dateFrom,\n      max: this.getToday(),\n      onChange: e => this.setState({\n        dateFrom: e.target.value\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 13\n      }\n    }), \"to\", /*#__PURE__*/React.createElement(\"input\", {\n      name: \"to\",\n      type: \"date\",\n      value: this.state.dateTo,\n      min: this.state.dateFrom,\n      max: this.getToday(),\n      onChange: e => this.setState({\n        dateTo: e.target.value\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 264,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"submit\",\n      className: \"btn btn-info\",\n      value: \"Get\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 272,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(\"h4\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 274,\n        columnNumber: 11\n      }\n    }, this.state.CustomersAdded + \" \", \"Customers Added \", this.state.message), /*#__PURE__*/React.createElement(\"h4\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 278,\n        columnNumber: 11\n      }\n    }, this.state.MembershipEnding + \" \", \"Customers Membership Ending \", this.state.message), /*#__PURE__*/React.createElement(\"h4\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 282,\n        columnNumber: 11\n      }\n    }, this.state.GamesIssued + \" \", \"Games Issued \", this.state.message), /*#__PURE__*/React.createElement(\"h4\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 286,\n        columnNumber: 11\n      }\n    }, this.state.GamesReturn + \" \", \"Games Returned \", this.state.message)), /*#__PURE__*/React.createElement(\"hr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 291,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 292,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 293,\n        columnNumber: 9\n      }\n    }, \"Recently Issued Games\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"table-responsive-xl\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 294,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"table\", {\n      className: \"table\",\n      style: {\n        marginTop: 20\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 295,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"thead\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 296,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 297,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 298,\n        columnNumber: 17\n      }\n    }, \"Sr\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 299,\n        columnNumber: 17\n      }\n    }, \"Name\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 300,\n        columnNumber: 17\n      }\n    }, \"Issued To\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 301,\n        columnNumber: 17\n      }\n    }, \"Date Of Issue\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 304,\n        columnNumber: 13\n      }\n    }, this.state.issue_game_loaded ? this.state.issue_game.map((game, index) => /*#__PURE__*/React.createElement(Game, {\n      mode: \"issue\",\n      _id: game._id,\n      sr: index + 1,\n      name: game.gameInfo.name,\n      cust_name: game.customerInfo.name,\n      dateIssue: this.convertDate(game.date_issue),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 307,\n        columnNumber: 19\n      }\n    })) : /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 317,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      colSpan: \"4\",\n      style: {\n        position: \"relative\",\n        top: \"50%\",\n        left: \"50%\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 318,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(LoadingSpinner, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 322,\n        columnNumber: 21\n      }\n    })))))), /*#__PURE__*/React.createElement(\"hr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 329,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 330,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 331,\n        columnNumber: 9\n      }\n    }, \"Recently Returned Games\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"table-responsive-xl\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 332,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"table\", {\n      className: \"table\",\n      style: {\n        marginTop: 20\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 333,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"thead\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 334,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 335,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 336,\n        columnNumber: 17\n      }\n    }, \"Sr\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 337,\n        columnNumber: 17\n      }\n    }, \"Name\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 338,\n        columnNumber: 17\n      }\n    }, \"Returned By\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 339,\n        columnNumber: 17\n      }\n    }, \"Date Of Issue\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 340,\n        columnNumber: 17\n      }\n    }, \"Date Of Return\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 343,\n        columnNumber: 13\n      }\n    }, this.state.return_game_loaded ? this.state.return_game.map((game, index) => /*#__PURE__*/React.createElement(Game, {\n      mode: \"return\",\n      _id: game._id,\n      sr: index + 1,\n      name: game.gameInfo.name,\n      cust_name: game.customerInfo.name,\n      dateIssue: this.convertDate(game.date_issue),\n      dateReturn: this.convertDate(game.date_return),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 346,\n        columnNumber: 19\n      }\n    })) : /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 357,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      colSpan: \"5\",\n      style: {\n        position: \"relative\",\n        top: \"50%\",\n        left: \"50%\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 358,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(LoadingSpinner, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 362,\n        columnNumber: 21\n      }\n    })))))), /*#__PURE__*/React.createElement(\"hr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 369,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 370,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 371,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 372,\n        columnNumber: 11\n      }\n    }, \"Membership Ending Soon\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"table-responsive-xl\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 373,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"table\", {\n      className: \"table\",\n      style: {\n        marginTop: 20,\n        padding: \"2px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 374,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"thead\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 375,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 376,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 377,\n        columnNumber: 19\n      }\n    }, \"Sr\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 378,\n        columnNumber: 19\n      }\n    }, \"Name\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 379,\n        columnNumber: 19\n      }\n    }, \"Email-ID\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 380,\n        columnNumber: 19\n      }\n    }, \"Date Ending\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 383,\n        columnNumber: 15\n      }\n    }, this.state.customers_loaded ? this.state.customers.map((customer, index) => /*#__PURE__*/React.createElement(Customer, {\n      mode: \"dashboard\",\n      id: customer._id,\n      sr: index + 1,\n      name: customer.name,\n      email: customer.email,\n      dateEnding: this.convertDate(customer.latestMembership.end),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 386,\n        columnNumber: 21\n      }\n    })) : /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 398,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      colSpan: \"4\",\n      style: {\n        position: \"relative\",\n        top: \"50%\",\n        left: \"50%\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 399,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(LoadingSpinner, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 403,\n        columnNumber: 23\n      }\n    }))))))));\n  }\n\n}\n\nexport default Dashboard;","map":{"version":3,"sources":["C:/Prayuj Folders/Game-Renting-Service/frontend/src/components/dashboard.js"],"names":["React","Component","axios","Customer","Game","loadingSpinner","LoadingSpinner","Dashboard","constructor","props","state","customers","issue_game","return_game","search","dateFrom","dateTo","CustomersAdded","MembershipEnding","GamesIssued","GamesReturn","message","issue_game_loaded","return_game_loaded","customers_loaded","getDetails","bind","getCustomers","getIssuedGames","getReturnedGames","getDashboardDetails","componentDidMount","get","url","getToday","then","res","setState","data","console","log","convertDate","dates","date","Date","dd","String","getDate","padStart","mm","parseInt","getMonth","yyyy","getFullYear","month_names","today","e","preventDefault","target","from","value","to","render","marginTop","map","game","index","_id","gameInfo","name","customerInfo","date_issue","position","top","left","date_return","padding","customer","email","latestMembership","end"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport \"react-dates/initialize\";\r\nimport \"react-dates/lib/css/_datepicker.css\";\r\nimport axios from \"axios\";\r\nimport Customer from \"./customer\";\r\nimport Game from \"./game\";\r\nimport loadingSpinner from \"./loadingSpinner\";\r\nimport LoadingSpinner from \"./loadingSpinner\";\r\n\r\nclass Dashboard extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      customers: [],\r\n      issue_game: [],\r\n      return_game: [],\r\n      search: \"\",\r\n      dateFrom: \"\",\r\n      dateTo: \"\",\r\n      CustomersAdded: 0,\r\n      MembershipEnding: 0,\r\n      GamesIssued: 0,\r\n      GamesReturn: 0,\r\n      message: \"Today\",\r\n      issue_game_loaded: false,\r\n      return_game_loaded: false,\r\n      customers_loaded: false,\r\n    };\r\n    this.getDetails = this.getDetails.bind(this);\r\n    this.getCustomers = this.getCustomers.bind(this);\r\n    this.getIssuedGames = this.getIssuedGames.bind(this);\r\n    this.getReturnedGames = this.getReturnedGames.bind(this);\r\n    this.getDashboardDetails = this.getDashboardDetails.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.getDetails();\r\n    this.getCustomers();\r\n    this.getIssuedGames();\r\n    this.getReturnedGames();\r\n  }\r\n\r\n  getDetails() {\r\n    axios\r\n      .get(\r\n        this.props.url +\r\n          \"/customer/CustomersAdded/from=\" +\r\n          this.getToday() +\r\n          \"&to=\" +\r\n          this.getToday()\r\n      )\r\n      .then((res) => {\r\n        this.setState({\r\n          CustomersAdded: res.data.CustomersAdded,\r\n        });\r\n      });\r\n\r\n    axios\r\n      .get(\r\n        this.props.url +\r\n          \"/customer/MembershipEnding/from=\" +\r\n          this.getToday() +\r\n          \"&to=\" +\r\n          this.getToday()\r\n      )\r\n      .then((res) => {\r\n        this.setState({\r\n          MembershipEnding: res.data.MembershipEnding,\r\n        });\r\n      });\r\n\r\n    axios\r\n      .get(\r\n        this.props.url +\r\n          \"/game/GamesIssued/from=\" +\r\n          this.getToday() +\r\n          \"&to=\" +\r\n          this.getToday()\r\n      )\r\n      .then((res) => {\r\n        this.setState({\r\n          GamesIssued: res.data.GamesIssued,\r\n        });\r\n      });\r\n\r\n    axios\r\n      .get(\r\n        this.props.url +\r\n          \"/game/GamesReturn/from=\" +\r\n          this.getToday() +\r\n          \"&to=\" +\r\n          this.getToday()\r\n      )\r\n      .then((res) => {\r\n        this.setState({\r\n          GamesReturn: res.data.GamesReturn,\r\n        });\r\n      });\r\n  }\r\n\r\n  getCustomers() {\r\n    axios.get(this.props.url + \"/customer/dashboard\").then((res) => {\r\n      this.setState({\r\n        customers: res.data,\r\n        customers_loaded: true,\r\n      });\r\n    });\r\n  }\r\n\r\n  getIssuedGames() {\r\n    axios.get(this.props.url + \"/game/dashboard/issue\").then((res) => {\r\n      console.log(res.data);\r\n      this.setState({\r\n        issue_game: res.data,\r\n        issue_game_loaded: true,\r\n      });\r\n    });\r\n  }\r\n\r\n  getReturnedGames() {\r\n    axios.get(this.props.url + \"/game/dashboard/return\").then((res) => {\r\n      console.log(res.data);\r\n      this.setState({\r\n        return_game: res.data,\r\n        return_game_loaded: true,\r\n      });\r\n    });\r\n  }\r\n\r\n  convertDate(dates) {\r\n    var date = new Date(dates);\r\n    var dd = String(date.getDate()).padStart(2, \"0\");\r\n    var mm = parseInt(date.getMonth()); //January is 0!\r\n    var yyyy = date.getFullYear();\r\n    var month_names = [\r\n      \"Jan\",\r\n      \"Feb\",\r\n      \"Mar\",\r\n      \"Apr\",\r\n      \"May\",\r\n      \"Jun\",\r\n      \"Jul\",\r\n      \"Aug\",\r\n      \"Sep\",\r\n      \"Oct\",\r\n      \"Nov\",\r\n      \"Dec\",\r\n    ];\r\n    var today = dd + \"/\" + month_names[mm] + \"/\" + yyyy;\r\n    console.log(today);\r\n    return today;\r\n  }\r\n  getToday() {\r\n    var date = new Date();\r\n    var dd = String(date.getDate()).padStart(2, \"0\");\r\n    var mm = String(date.getMonth() + 1).padStart(2, \"0\"); //January is 0!\r\n    var yyyy = date.getFullYear();\r\n    return yyyy + \"-\" + mm + \"-\" + dd;\r\n  }\r\n\r\n  getDashboardDetails(e) {\r\n    e.preventDefault();\r\n    if (e.target.from.value !== \"\" && e.target.to.value !== \"\") {\r\n      axios\r\n        .get(\r\n          \"https://prayuj-gamerent.herokuapp.com/customer/CustomersAdded/from=\" +\r\n            e.target.from.value +\r\n            \"&to=\" +\r\n            e.target.to.value\r\n        )\r\n        .then((res) => {\r\n          this.setState({\r\n            CustomersAdded: res.data.CustomersAdded,\r\n          });\r\n        });\r\n\r\n      axios\r\n        .get(\r\n          \"https://prayuj-gamerent.herokuapp.com/customer/MembershipEnding/from=\" +\r\n            e.target.from.value +\r\n            \"&to=\" +\r\n            e.target.to.value\r\n        )\r\n        .then((res) => {\r\n          this.setState({\r\n            MembershipEnding: res.data.MembershipEnding,\r\n          });\r\n        });\r\n\r\n      axios\r\n        .get(\r\n          \"https://prayuj-gamerent.herokuapp.com/game/GamesIssued/from=\" +\r\n            e.target.from.value +\r\n            \"&to=\" +\r\n            e.target.to.value\r\n        )\r\n        .then((res) => {\r\n          this.setState({\r\n            GamesIssued: res.data.GamesIssued,\r\n          });\r\n        });\r\n\r\n      axios\r\n        .get(\r\n          \"https://prayuj-gamerent.herokuapp.com/game/GamesReturn/from=\" +\r\n            e.target.from.value +\r\n            \"&to=\" +\r\n            e.target.to.value\r\n        )\r\n        .then((res) => {\r\n          this.setState({\r\n            GamesReturn: res.data.GamesReturn,\r\n          });\r\n        });\r\n      if (this.state.dateFrom === this.state.dateTo)\r\n        if (this.state.dateFrom === this.getToday()) {\r\n          this.setState({\r\n            message: \"Today\",\r\n          });\r\n        } else {\r\n          this.setState({\r\n            message: \"on \" + this.convertDate(this.state.dateTo) + \" \",\r\n          });\r\n        }\r\n      else\r\n        this.setState({\r\n          message:\r\n            \"from \" +\r\n            this.convertDate(this.state.dateFrom) +\r\n            \" to \" +\r\n            this.convertDate(this.state.dateTo) +\r\n            \" \",\r\n        });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    let message = \"today\";\r\n    if (this.state.dateFrom != \"\" && this.state.dateTo != \"\") {\r\n      if (this.state.dateFrom === this.state.dateTo)\r\n        message = \"on \" + this.convertDate(this.state.dateTo) + \" \";\r\n      else\r\n        message =\r\n          \"from \" +\r\n          this.convertDate(this.state.dateFrom) +\r\n          \" to \" +\r\n          this.convertDate(this.state.dateTo) +\r\n          \" \";\r\n    }\r\n\r\n    return (\r\n      <div>\r\n        <div>\r\n          <form onSubmit={this.getDashboardDetails}>\r\n            Select Dates\r\n            <input\r\n              name=\"from\"\r\n              type=\"date\"\r\n              value={this.state.dateFrom}\r\n              max={this.getToday()}\r\n              onChange={(e) => this.setState({ dateFrom: e.target.value })}\r\n            />\r\n            to\r\n            <input\r\n              name=\"to\"\r\n              type=\"date\"\r\n              value={this.state.dateTo}\r\n              min={this.state.dateFrom}\r\n              max={this.getToday()}\r\n              onChange={(e) => this.setState({ dateTo: e.target.value })}\r\n            />\r\n            <input type=\"submit\" className=\"btn btn-info\" value=\"Get\" />\r\n          </form>\r\n          <h4>\r\n            {this.state.CustomersAdded + \" \"}\r\n            Customers Added {this.state.message}\r\n          </h4>\r\n          <h4>\r\n            {this.state.MembershipEnding + \" \"}\r\n            Customers Membership Ending {this.state.message}\r\n          </h4>\r\n          <h4>\r\n            {this.state.GamesIssued + \" \"}\r\n            Games Issued {this.state.message}\r\n          </h4>\r\n          <h4>\r\n            {this.state.GamesReturn + \" \"}\r\n            Games Returned {this.state.message}\r\n          </h4>\r\n        </div>\r\n        <hr />\r\n        <br />\r\n        <h3>Recently Issued Games</h3>\r\n        <div className=\"table-responsive-xl\">\r\n          <table className=\"table\" style={{ marginTop: 20 }}>\r\n            <thead>\r\n              <tr>\r\n                <th>Sr</th>\r\n                <th>Name</th>\r\n                <th>Issued To</th>\r\n                <th>Date Of Issue</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {this.state.issue_game_loaded ? (\r\n                this.state.issue_game.map((game, index) => (\r\n                  <Game\r\n                    mode=\"issue\"\r\n                    _id={game._id}\r\n                    sr={index + 1}\r\n                    name={game.gameInfo.name}\r\n                    cust_name={game.customerInfo.name}\r\n                    dateIssue={this.convertDate(game.date_issue)}\r\n                  />\r\n                ))\r\n              ) : (\r\n                <tr>\r\n                  <td\r\n                    colSpan=\"4\"\r\n                    style={{ position: \"relative\", top: \"50%\", left: \"50%\" }}\r\n                  >\r\n                    <LoadingSpinner></LoadingSpinner>\r\n                  </td>\r\n                </tr>\r\n              )}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n        <hr />\r\n        <br />\r\n        <h3>Recently Returned Games</h3>\r\n        <div className=\"table-responsive-xl\">\r\n          <table className=\"table\" style={{ marginTop: 20 }}>\r\n            <thead>\r\n              <tr>\r\n                <th>Sr</th>\r\n                <th>Name</th>\r\n                <th>Returned By</th>\r\n                <th>Date Of Issue</th>\r\n                <th>Date Of Return</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {this.state.return_game_loaded ? (\r\n                this.state.return_game.map((game, index) => (\r\n                  <Game\r\n                    mode=\"return\"\r\n                    _id={game._id}\r\n                    sr={index + 1}\r\n                    name={game.gameInfo.name}\r\n                    cust_name={game.customerInfo.name}\r\n                    dateIssue={this.convertDate(game.date_issue)}\r\n                    dateReturn={this.convertDate(game.date_return)}\r\n                  />\r\n                ))\r\n              ) : (\r\n                <tr>\r\n                  <td\r\n                    colSpan=\"5\"\r\n                    style={{ position: \"relative\", top: \"50%\", left: \"50%\" }}\r\n                  >\r\n                    <LoadingSpinner></LoadingSpinner>\r\n                  </td>\r\n                </tr>\r\n              )}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n        <hr />\r\n        <br />\r\n        <div>\r\n          <h3>Membership Ending Soon</h3>\r\n          <div className=\"table-responsive-xl\">\r\n            <table className=\"table\" style={{ marginTop: 20, padding: \"2px\" }}>\r\n              <thead>\r\n                <tr>\r\n                  <th>Sr</th>\r\n                  <th>Name</th>\r\n                  <th>Email-ID</th>\r\n                  <th>Date Ending</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {this.state.customers_loaded ? (\r\n                  this.state.customers.map((customer, index) => (\r\n                    <Customer\r\n                      mode=\"dashboard\"\r\n                      id={customer._id}\r\n                      sr={index + 1}\r\n                      name={customer.name}\r\n                      email={customer.email}\r\n                      dateEnding={this.convertDate(\r\n                        customer.latestMembership.end\r\n                      )}\r\n                    />\r\n                  ))\r\n                ) : (\r\n                  <tr>\r\n                    <td\r\n                      colSpan=\"4\"\r\n                      style={{ position: \"relative\", top: \"50%\", left: \"50%\" }}\r\n                    >\r\n                      <LoadingSpinner></LoadingSpinner>\r\n                    </td>\r\n                  </tr>\r\n                )}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Dashboard;\r\n"]},"metadata":{},"sourceType":"module"}