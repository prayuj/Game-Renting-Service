{"ast":null,"code":"var _jsxFileName = \"C:\\\\Prayuj Folders\\\\Game-Renting-Service\\\\frontend\\\\src\\\\components\\\\login.js\";\nimport React, { Component } from \"react\";\nimport { Button, FormGroup, FormControl, FormLabel } from \"react-bootstrap\";\nimport axios from \"axios\";\nimport { Redirect } from \"react-router-dom\";\nimport LoadingSpinner from \"./loadingSpinner\";\nimport Toast from \"react-bootstrap/Toast\";\n\nclass Login extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleChange = event => {\n      this.setState({\n        [event.target.id]: event.target.value\n      });\n    };\n\n    this.renderRedirect = () => {\n      if (this.state.redirect) {\n        return /*#__PURE__*/React.createElement(Redirect, {\n          push: true,\n          to: \"/\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 14\n          }\n        });\n      }\n    };\n\n    localStorage.removeItem(\"isLoggedIn\");\n    this.state = {\n      email: \"\",\n      password: \"\",\n      redirect: false,\n      login_validating: false\n    };\n    this.handleLogin = this.handleLogin.bind(this);\n  }\n\n  validateForm() {\n    return this.state.email.length > 0 && this.state.password.length > 0;\n  }\n\n  handleLogin(e) {\n    e.preventDefault();\n    this.setState({\n      login_validating: true\n    });\n    axios.post(\"https://prayuj-gamerent.herokuapp.com/login/\", {\n      email: e.target.email.value,\n      password: e.target.password.value\n    }).then(res => {\n      if (!res.data.isLoggedIn) {\n        alert(\"Wrong Password\");\n      } else {\n        localStorage.setItem(\"isLoggedIn\", res.data.isLoggedIn);\n        this.setState({\n          redirect: true\n        });\n        this.props.onSubmit();\n      }\n\n      this.setState({\n        login_validating: false\n      });\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"Login\",\n      style: {\n        margin: \"1em\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 7\n      }\n    }, this.renderRedirect(), /*#__PURE__*/React.createElement(\"h1\", {\n      style: {\n        textAlign: \"center\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }\n    }, \"Login to Continue\"), /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.handleLogin,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(FormGroup, {\n      controlId: \"email\",\n      bsSize: \"large\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(FormLabel, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 13\n      }\n    }, \"Email\"), /*#__PURE__*/React.createElement(FormControl, {\n      autoFocus: true,\n      type: \"email\",\n      value: this.state.email,\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(FormGroup, {\n      controlId: \"password\",\n      bsSize: \"large\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(FormLabel, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 13\n      }\n    }, \"Password\"), /*#__PURE__*/React.createElement(FormControl, {\n      value: this.state.password,\n      onChange: this.handleChange,\n      type: \"password\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 13\n      }\n    })), this.state.login_validating ? /*#__PURE__*/React.createElement(Button, {\n      block: true,\n      bsSize: \"large\",\n      disabled: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(LoadingSpinner, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 15\n      }\n    })) : /*#__PURE__*/React.createElement(Button, {\n      block: true,\n      bsSize: \"large\",\n      disabled: !this.validateForm(),\n      type: \"submit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 13\n      }\n    }, \"Login\"), /*#__PURE__*/React.createElement(Toast, {\n      margin: {\n        style: \"1em\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Toast.Body, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 13\n      }\n    }, \"Email: prayuj@gmail.com\", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 38\n      }\n    }), \"Password: hello\"))));\n  }\n\n}\n\nexport default Login;","map":{"version":3,"sources":["C:/Prayuj Folders/Game-Renting-Service/frontend/src/components/login.js"],"names":["React","Component","Button","FormGroup","FormControl","FormLabel","axios","Redirect","LoadingSpinner","Toast","Login","constructor","props","handleChange","event","setState","target","id","value","renderRedirect","state","redirect","localStorage","removeItem","email","password","login_validating","handleLogin","bind","validateForm","length","e","preventDefault","post","then","res","data","isLoggedIn","alert","setItem","onSubmit","render","margin","textAlign","style"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport { Button, FormGroup, FormControl, FormLabel } from \"react-bootstrap\";\r\nimport axios from \"axios\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport LoadingSpinner from \"./loadingSpinner\";\r\nimport Toast from \"react-bootstrap/Toast\";\r\n\r\nclass Login extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    localStorage.removeItem(\"isLoggedIn\");\r\n    this.state = {\r\n      email: \"\",\r\n      password: \"\",\r\n      redirect: false,\r\n      login_validating: false,\r\n    };\r\n\r\n    this.handleLogin = this.handleLogin.bind(this);\r\n  }\r\n  validateForm() {\r\n    return this.state.email.length > 0 && this.state.password.length > 0;\r\n  }\r\n  handleChange = (event) => {\r\n    this.setState({\r\n      [event.target.id]: event.target.value,\r\n    });\r\n  };\r\n  handleLogin(e) {\r\n    e.preventDefault();\r\n    this.setState({ login_validating: true });\r\n    axios\r\n      .post(\"https://prayuj-gamerent.herokuapp.com/login/\", {\r\n        email: e.target.email.value,\r\n        password: e.target.password.value,\r\n      })\r\n      .then((res) => {\r\n        if (!res.data.isLoggedIn) {\r\n          alert(\"Wrong Password\");\r\n        } else {\r\n          localStorage.setItem(\"isLoggedIn\", res.data.isLoggedIn);\r\n          this.setState({\r\n            redirect: true,\r\n          });\r\n          this.props.onSubmit();\r\n        }\r\n        this.setState({ login_validating: false });\r\n      });\r\n  }\r\n\r\n  renderRedirect = () => {\r\n    if (this.state.redirect) {\r\n      return <Redirect push to={\"/\"} />;\r\n    }\r\n  };\r\n  render() {\r\n    return (\r\n      <div className=\"Login\" style={{ margin: \"1em\" }}>\r\n        {this.renderRedirect()}\r\n        <h1 style={{ textAlign: \"center\" }}>Login to Continue</h1>\r\n        <form onSubmit={this.handleLogin}>\r\n          <FormGroup controlId=\"email\" bsSize=\"large\">\r\n            <FormLabel>Email</FormLabel>\r\n            <FormControl\r\n              autoFocus\r\n              type=\"email\"\r\n              value={this.state.email}\r\n              onChange={this.handleChange}\r\n            />\r\n          </FormGroup>\r\n          <FormGroup controlId=\"password\" bsSize=\"large\">\r\n            <FormLabel>Password</FormLabel>\r\n            <FormControl\r\n              value={this.state.password}\r\n              onChange={this.handleChange}\r\n              type=\"password\"\r\n            />\r\n          </FormGroup>\r\n          {this.state.login_validating ? (\r\n            <Button block bsSize=\"large\" disabled>\r\n              <LoadingSpinner></LoadingSpinner>\r\n            </Button>\r\n          ) : (\r\n            <Button\r\n              block\r\n              bsSize=\"large\"\r\n              disabled={!this.validateForm()}\r\n              type=\"submit\"\r\n            >\r\n              Login\r\n            </Button>\r\n          )}\r\n          <Toast margin={{ style: \"1em\" }}>\r\n            <Toast.Body>\r\n              Email: prayuj@gmail.com<br></br>Password: hello\r\n            </Toast.Body>\r\n          </Toast>\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Login;\r\n"]},"metadata":{},"sourceType":"module"}